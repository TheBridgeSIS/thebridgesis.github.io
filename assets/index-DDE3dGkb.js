(function(){const Oe=document.createElement("link").relList;if(Oe&&Oe.supports&&Oe.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))w(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&w(u)}).observe(document,{childList:!0,subtree:!0});function i(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function w(e){if(e.ep)return;e.ep=!0;const a=i(e);fetch(e.href,a)}})();function mr(Me){return Me&&Me.__esModule&&Object.prototype.hasOwnProperty.call(Me,"default")?Me.default:Me}var vr={exports:{}},gr;function xr(){return gr||(gr=1,(function(Me,Oe){(function(i,w){Me.exports=w()})(window,(function(){return(function(i){var w={};function e(a){if(w[a])return w[a].exports;var u=w[a]={i:a,l:!1,exports:{}};return i[a].call(u.exports,u,u.exports,e),u.l=!0,u.exports}return e.m=i,e.c=w,e.d=function(a,u,s){e.o(a,u)||Object.defineProperty(a,u,{enumerable:!0,get:s})},e.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},e.t=function(a,u){if(1&u&&(a=e(a)),8&u||4&u&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),2&u&&typeof a!="string")for(var f in a)e.d(s,f,(function(g){return a[g]}).bind(null,f));return s},e.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return e.d(u,"a",u),u},e.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},e.p="/",e(e.s=73)})([function(i,w,e){var a=e(61);i.exports=function(u,s,f){return(s=a(s))in u?Object.defineProperty(u,s,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[s]=f,u},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){function e(a){return i.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},i.exports.__esModule=!0,i.exports.default=i.exports,e(a)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(61);function u(s,f){for(var g=0;g<f.length;g++){var b=f[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(s,a(b.key),b)}}i.exports=function(s,f,g){return f&&u(s.prototype,f),g&&u(s,g),Object.defineProperty(s,"prototype",{writable:!1}),s},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){e.d(w,"a",(function(){return a})),e.d(w,"b",(function(){return u})),e.d(w,"c",(function(){return s})),e.d(w,"d",(function(){return f}));var a={};e.r(a),e.d(a,"EPSILON",(function(){return g})),e.d(a,"ARRAY_TYPE",(function(){return b})),e.d(a,"RANDOM",(function(){return M})),e.d(a,"setMatrixArrayType",(function(){return C})),e.d(a,"toRadian",(function(){return D})),e.d(a,"equals",(function(){return G}));var u={};e.r(u),e.d(u,"create",(function(){return Z})),e.d(u,"clone",(function(){return K})),e.d(u,"copy",(function(){return oe})),e.d(u,"identity",(function(){return B})),e.d(u,"fromValues",(function(){return I})),e.d(u,"set",(function(){return A})),e.d(u,"transpose",(function(){return O})),e.d(u,"invert",(function(){return P})),e.d(u,"adjoint",(function(){return N})),e.d(u,"determinant",(function(){return T})),e.d(u,"multiply",(function(){return X})),e.d(u,"rotate",(function(){return j})),e.d(u,"scale",(function(){return V})),e.d(u,"fromRotation",(function(){return E})),e.d(u,"fromScaling",(function(){return $})),e.d(u,"str",(function(){return J})),e.d(u,"frob",(function(){return ee})),e.d(u,"LDU",(function(){return Y})),e.d(u,"add",(function(){return ae})),e.d(u,"subtract",(function(){return te})),e.d(u,"exactEquals",(function(){return re})),e.d(u,"equals",(function(){return fe})),e.d(u,"multiplyScalar",(function(){return L})),e.d(u,"multiplyScalarAndAdd",(function(){return U})),e.d(u,"mul",(function(){return W})),e.d(u,"sub",(function(){return ce}));var s={};e.r(s),e.d(s,"create",(function(){return ie})),e.d(s,"clone",(function(){return he})),e.d(s,"fromValues",(function(){return ge})),e.d(s,"copy",(function(){return ye})),e.d(s,"set",(function(){return xe})),e.d(s,"add",(function(){return we})),e.d(s,"subtract",(function(){return Ee})),e.d(s,"multiply",(function(){return Ce})),e.d(s,"divide",(function(){return ot})),e.d(s,"ceil",(function(){return Lt})),e.d(s,"floor",(function(){return at})),e.d(s,"min",(function(){return qe})),e.d(s,"max",(function(){return Ut})),e.d(s,"round",(function(){return Nt})),e.d(s,"scale",(function(){return it})),e.d(s,"scaleAndAdd",(function(){return Ft})),e.d(s,"distance",(function(){return ut})),e.d(s,"squaredDistance",(function(){return ct})),e.d(s,"length",(function(){return Qe})),e.d(s,"squaredLength",(function(){return st})),e.d(s,"negate",(function(){return Ye})),e.d(s,"inverse",(function(){return ft})),e.d(s,"normalize",(function(){return lt})),e.d(s,"dot",(function(){return dt})),e.d(s,"cross",(function(){return Ze})),e.d(s,"lerp",(function(){return Bt})),e.d(s,"random",(function(){return Wt})),e.d(s,"transformMat2",(function(){return ht})),e.d(s,"transformMat2d",(function(){return qt})),e.d(s,"transformMat3",(function(){return pt})),e.d(s,"transformMat4",(function(){return vt})),e.d(s,"rotate",(function(){return Te})),e.d(s,"angle",(function(){return Vt})),e.d(s,"zero",(function(){return gt})),e.d(s,"str",(function(){return Gt})),e.d(s,"exactEquals",(function(){return $t})),e.d(s,"equals",(function(){return yt})),e.d(s,"len",(function(){return mt})),e.d(s,"sub",(function(){return Ht})),e.d(s,"mul",(function(){return xt})),e.d(s,"div",(function(){return _t})),e.d(s,"dist",(function(){return Xt})),e.d(s,"sqrDist",(function(){return bt})),e.d(s,"sqrLen",(function(){return Qt})),e.d(s,"forEach",(function(){return wt}));var f={};e.r(f),e.d(f,"create",(function(){return Ue})),e.d(f,"clone",(function(){return Ve})),e.d(f,"length",(function(){return Ke})),e.d(f,"fromValues",(function(){return Yt})),e.d(f,"copy",(function(){return Ot})),e.d(f,"set",(function(){return Ne})),e.d(f,"add",(function(){return Je})),e.d(f,"subtract",(function(){return De})),e.d(f,"multiply",(function(){return Rt})),e.d(f,"divide",(function(){return Mt})),e.d(f,"ceil",(function(){return Zt})),e.d(f,"floor",(function(){return Kt})),e.d(f,"min",(function(){return ze})),e.d(f,"max",(function(){return et})),e.d(f,"round",(function(){return Ct})),e.d(f,"scale",(function(){return Jt})),e.d(f,"scaleAndAdd",(function(){return er})),e.d(f,"distance",(function(){return Et})),e.d(f,"squaredDistance",(function(){return At})),e.d(f,"squaredLength",(function(){return tt})),e.d(f,"negate",(function(){return tr})),e.d(f,"inverse",(function(){return rr})),e.d(f,"normalize",(function(){return St})),e.d(f,"dot",(function(){return Fe})),e.d(f,"cross",(function(){return Be})),e.d(f,"lerp",(function(){return Ge})),e.d(f,"hermite",(function(){return kt})),e.d(f,"bezier",(function(){return nr})),e.d(f,"random",(function(){return Ae})),e.d(f,"transformMat4",(function(){return $e})),e.d(f,"transformMat3",(function(){return Pt})),e.d(f,"transformQuat",(function(){return or})),e.d(f,"rotateX",(function(){return ar})),e.d(f,"rotateY",(function(){return He})),e.d(f,"rotateZ",(function(){return Tt})),e.d(f,"angle",(function(){return ir})),e.d(f,"zero",(function(){return ur})),e.d(f,"str",(function(){return cr})),e.d(f,"exactEquals",(function(){return sr})),e.d(f,"equals",(function(){return fr})),e.d(f,"sub",(function(){return Dt})),e.d(f,"mul",(function(){return lr})),e.d(f,"div",(function(){return dr})),e.d(f,"dist",(function(){return jt})),e.d(f,"sqrDist",(function(){return hr})),e.d(f,"len",(function(){return rt})),e.d(f,"sqrLen",(function(){return pr})),e.d(f,"forEach",(function(){return It}));var g=1e-6,b=typeof Float32Array<"u"?Float32Array:Array,M=Math.random;function C(o){b=o}var S=Math.PI/180;function D(o){return o*S}function G(o,d){return Math.abs(o-d)<=g*Math.max(1,Math.abs(o),Math.abs(d))}function Z(){var o=new b(4);return b!=Float32Array&&(o[1]=0,o[2]=0),o[0]=1,o[3]=1,o}function K(o){var d=new b(4);return d[0]=o[0],d[1]=o[1],d[2]=o[2],d[3]=o[3],d}function oe(o,d){return o[0]=d[0],o[1]=d[1],o[2]=d[2],o[3]=d[3],o}function B(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=1,o}function I(o,d,m,k){var z=new b(4);return z[0]=o,z[1]=d,z[2]=m,z[3]=k,z}function A(o,d,m,k,z){return o[0]=d,o[1]=m,o[2]=k,o[3]=z,o}function O(o,d){if(o===d){var m=d[1];o[1]=d[2],o[2]=m}else o[0]=d[0],o[1]=d[2],o[2]=d[1],o[3]=d[3];return o}function P(o,d){var m=d[0],k=d[1],z=d[2],q=d[3],ne=m*q-z*k;return ne?(ne=1/ne,o[0]=q*ne,o[1]=-k*ne,o[2]=-z*ne,o[3]=m*ne,o):null}function N(o,d){var m=d[0];return o[0]=d[3],o[1]=-d[1],o[2]=-d[2],o[3]=m,o}function T(o){return o[0]*o[3]-o[2]*o[1]}function X(o,d,m){var k=d[0],z=d[1],q=d[2],ne=d[3],se=m[0],pe=m[1],_e=m[2],Re=m[3];return o[0]=k*se+q*pe,o[1]=z*se+ne*pe,o[2]=k*_e+q*Re,o[3]=z*_e+ne*Re,o}function j(o,d,m){var k=d[0],z=d[1],q=d[2],ne=d[3],se=Math.sin(m),pe=Math.cos(m);return o[0]=k*pe+q*se,o[1]=z*pe+ne*se,o[2]=k*-se+q*pe,o[3]=z*-se+ne*pe,o}function V(o,d,m){var k=d[0],z=d[1],q=d[2],ne=d[3],se=m[0],pe=m[1];return o[0]=k*se,o[1]=z*se,o[2]=q*pe,o[3]=ne*pe,o}function E(o,d){var m=Math.sin(d),k=Math.cos(d);return o[0]=k,o[1]=m,o[2]=-m,o[3]=k,o}function $(o,d){return o[0]=d[0],o[1]=0,o[2]=0,o[3]=d[1],o}function J(o){return"mat2("+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+")"}function ee(o){return Math.hypot(o[0],o[1],o[2],o[3])}function Y(o,d,m,k){return o[2]=k[2]/k[0],m[0]=k[0],m[1]=k[1],m[3]=k[3]-o[2]*m[1],[o,d,m]}function ae(o,d,m){return o[0]=d[0]+m[0],o[1]=d[1]+m[1],o[2]=d[2]+m[2],o[3]=d[3]+m[3],o}function te(o,d,m){return o[0]=d[0]-m[0],o[1]=d[1]-m[1],o[2]=d[2]-m[2],o[3]=d[3]-m[3],o}function re(o,d){return o[0]===d[0]&&o[1]===d[1]&&o[2]===d[2]&&o[3]===d[3]}function fe(o,d){var m=o[0],k=o[1],z=o[2],q=o[3],ne=d[0],se=d[1],pe=d[2],_e=d[3];return Math.abs(m-ne)<=g*Math.max(1,Math.abs(m),Math.abs(ne))&&Math.abs(k-se)<=g*Math.max(1,Math.abs(k),Math.abs(se))&&Math.abs(z-pe)<=g*Math.max(1,Math.abs(z),Math.abs(pe))&&Math.abs(q-_e)<=g*Math.max(1,Math.abs(q),Math.abs(_e))}function L(o,d,m){return o[0]=d[0]*m,o[1]=d[1]*m,o[2]=d[2]*m,o[3]=d[3]*m,o}function U(o,d,m,k){return o[0]=d[0]+m[0]*k,o[1]=d[1]+m[1]*k,o[2]=d[2]+m[2]*k,o[3]=d[3]+m[3]*k,o}Math.hypot||(Math.hypot=function(){for(var o=0,d=arguments.length;d--;)o+=arguments[d]*arguments[d];return Math.sqrt(o)});var W=X,ce=te;function ie(){var o=new b(2);return b!=Float32Array&&(o[0]=0,o[1]=0),o}function he(o){var d=new b(2);return d[0]=o[0],d[1]=o[1],d}function ge(o,d){var m=new b(2);return m[0]=o,m[1]=d,m}function ye(o,d){return o[0]=d[0],o[1]=d[1],o}function xe(o,d,m){return o[0]=d,o[1]=m,o}function we(o,d,m){return o[0]=d[0]+m[0],o[1]=d[1]+m[1],o}function Ee(o,d,m){return o[0]=d[0]-m[0],o[1]=d[1]-m[1],o}function Ce(o,d,m){return o[0]=d[0]*m[0],o[1]=d[1]*m[1],o}function ot(o,d,m){return o[0]=d[0]/m[0],o[1]=d[1]/m[1],o}function Lt(o,d){return o[0]=Math.ceil(d[0]),o[1]=Math.ceil(d[1]),o}function at(o,d){return o[0]=Math.floor(d[0]),o[1]=Math.floor(d[1]),o}function qe(o,d,m){return o[0]=Math.min(d[0],m[0]),o[1]=Math.min(d[1],m[1]),o}function Ut(o,d,m){return o[0]=Math.max(d[0],m[0]),o[1]=Math.max(d[1],m[1]),o}function Nt(o,d){return o[0]=Math.round(d[0]),o[1]=Math.round(d[1]),o}function it(o,d,m){return o[0]=d[0]*m,o[1]=d[1]*m,o}function Ft(o,d,m,k){return o[0]=d[0]+m[0]*k,o[1]=d[1]+m[1]*k,o}function ut(o,d){var m=d[0]-o[0],k=d[1]-o[1];return Math.hypot(m,k)}function ct(o,d){var m=d[0]-o[0],k=d[1]-o[1];return m*m+k*k}function Qe(o){var d=o[0],m=o[1];return Math.hypot(d,m)}function st(o){var d=o[0],m=o[1];return d*d+m*m}function Ye(o,d){return o[0]=-d[0],o[1]=-d[1],o}function ft(o,d){return o[0]=1/d[0],o[1]=1/d[1],o}function lt(o,d){var m=d[0],k=d[1],z=m*m+k*k;return z>0&&(z=1/Math.sqrt(z)),o[0]=d[0]*z,o[1]=d[1]*z,o}function dt(o,d){return o[0]*d[0]+o[1]*d[1]}function Ze(o,d,m){var k=d[0]*m[1]-d[1]*m[0];return o[0]=o[1]=0,o[2]=k,o}function Bt(o,d,m,k){var z=d[0],q=d[1];return o[0]=z+k*(m[0]-z),o[1]=q+k*(m[1]-q),o}function Wt(o,d){d=d||1;var m=2*M()*Math.PI;return o[0]=Math.cos(m)*d,o[1]=Math.sin(m)*d,o}function ht(o,d,m){var k=d[0],z=d[1];return o[0]=m[0]*k+m[2]*z,o[1]=m[1]*k+m[3]*z,o}function qt(o,d,m){var k=d[0],z=d[1];return o[0]=m[0]*k+m[2]*z+m[4],o[1]=m[1]*k+m[3]*z+m[5],o}function pt(o,d,m){var k=d[0],z=d[1];return o[0]=m[0]*k+m[3]*z+m[6],o[1]=m[1]*k+m[4]*z+m[7],o}function vt(o,d,m){var k=d[0],z=d[1];return o[0]=m[0]*k+m[4]*z+m[12],o[1]=m[1]*k+m[5]*z+m[13],o}function Te(o,d,m,k){var z=d[0]-m[0],q=d[1]-m[1],ne=Math.sin(k),se=Math.cos(k);return o[0]=z*se-q*ne+m[0],o[1]=z*ne+q*se+m[1],o}function Vt(o,d){var m=o[0],k=o[1],z=d[0],q=d[1],ne=Math.sqrt(m*m+k*k)*Math.sqrt(z*z+q*q),se=ne&&(m*z+k*q)/ne;return Math.acos(Math.min(Math.max(se,-1),1))}function gt(o){return o[0]=0,o[1]=0,o}function Gt(o){return"vec2("+o[0]+", "+o[1]+")"}function $t(o,d){return o[0]===d[0]&&o[1]===d[1]}function yt(o,d){var m=o[0],k=o[1],z=d[0],q=d[1];return Math.abs(m-z)<=g*Math.max(1,Math.abs(m),Math.abs(z))&&Math.abs(k-q)<=g*Math.max(1,Math.abs(k),Math.abs(q))}var je,mt=Qe,Ht=Ee,xt=Ce,_t=ot,Xt=ut,bt=ct,Qt=st,wt=(je=ie(),function(o,d,m,k,z,q){var ne,se;for(d||(d=2),m||(m=0),se=k?Math.min(k*d+m,o.length):o.length,ne=m;ne<se;ne+=d)je[0]=o[ne],je[1]=o[ne+1],z(je,je,q),o[ne]=je[0],o[ne+1]=je[1];return o});function Ue(){var o=new b(3);return b!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0),o}function Ve(o){var d=new b(3);return d[0]=o[0],d[1]=o[1],d[2]=o[2],d}function Ke(o){var d=o[0],m=o[1],k=o[2];return Math.hypot(d,m,k)}function Yt(o,d,m){var k=new b(3);return k[0]=o,k[1]=d,k[2]=m,k}function Ot(o,d){return o[0]=d[0],o[1]=d[1],o[2]=d[2],o}function Ne(o,d,m,k){return o[0]=d,o[1]=m,o[2]=k,o}function Je(o,d,m){return o[0]=d[0]+m[0],o[1]=d[1]+m[1],o[2]=d[2]+m[2],o}function De(o,d,m){return o[0]=d[0]-m[0],o[1]=d[1]-m[1],o[2]=d[2]-m[2],o}function Rt(o,d,m){return o[0]=d[0]*m[0],o[1]=d[1]*m[1],o[2]=d[2]*m[2],o}function Mt(o,d,m){return o[0]=d[0]/m[0],o[1]=d[1]/m[1],o[2]=d[2]/m[2],o}function Zt(o,d){return o[0]=Math.ceil(d[0]),o[1]=Math.ceil(d[1]),o[2]=Math.ceil(d[2]),o}function Kt(o,d){return o[0]=Math.floor(d[0]),o[1]=Math.floor(d[1]),o[2]=Math.floor(d[2]),o}function ze(o,d,m){return o[0]=Math.min(d[0],m[0]),o[1]=Math.min(d[1],m[1]),o[2]=Math.min(d[2],m[2]),o}function et(o,d,m){return o[0]=Math.max(d[0],m[0]),o[1]=Math.max(d[1],m[1]),o[2]=Math.max(d[2],m[2]),o}function Ct(o,d){return o[0]=Math.round(d[0]),o[1]=Math.round(d[1]),o[2]=Math.round(d[2]),o}function Jt(o,d,m){return o[0]=d[0]*m,o[1]=d[1]*m,o[2]=d[2]*m,o}function er(o,d,m,k){return o[0]=d[0]+m[0]*k,o[1]=d[1]+m[1]*k,o[2]=d[2]+m[2]*k,o}function Et(o,d){var m=d[0]-o[0],k=d[1]-o[1],z=d[2]-o[2];return Math.hypot(m,k,z)}function At(o,d){var m=d[0]-o[0],k=d[1]-o[1],z=d[2]-o[2];return m*m+k*k+z*z}function tt(o){var d=o[0],m=o[1],k=o[2];return d*d+m*m+k*k}function tr(o,d){return o[0]=-d[0],o[1]=-d[1],o[2]=-d[2],o}function rr(o,d){return o[0]=1/d[0],o[1]=1/d[1],o[2]=1/d[2],o}function St(o,d){var m=d[0],k=d[1],z=d[2],q=m*m+k*k+z*z;return q>0&&(q=1/Math.sqrt(q)),o[0]=d[0]*q,o[1]=d[1]*q,o[2]=d[2]*q,o}function Fe(o,d){return o[0]*d[0]+o[1]*d[1]+o[2]*d[2]}function Be(o,d,m){var k=d[0],z=d[1],q=d[2],ne=m[0],se=m[1],pe=m[2];return o[0]=z*pe-q*se,o[1]=q*ne-k*pe,o[2]=k*se-z*ne,o}function Ge(o,d,m,k){var z=d[0],q=d[1],ne=d[2];return o[0]=z+k*(m[0]-z),o[1]=q+k*(m[1]-q),o[2]=ne+k*(m[2]-ne),o}function kt(o,d,m,k,z,q){var ne=q*q,se=ne*(2*q-3)+1,pe=ne*(q-2)+q,_e=ne*(q-1),Re=ne*(3-2*q);return o[0]=d[0]*se+m[0]*pe+k[0]*_e+z[0]*Re,o[1]=d[1]*se+m[1]*pe+k[1]*_e+z[1]*Re,o[2]=d[2]*se+m[2]*pe+k[2]*_e+z[2]*Re,o}function nr(o,d,m,k,z,q){var ne=1-q,se=ne*ne,pe=q*q,_e=se*ne,Re=3*q*se,ke=3*pe*ne,Pe=pe*q;return o[0]=d[0]*_e+m[0]*Re+k[0]*ke+z[0]*Pe,o[1]=d[1]*_e+m[1]*Re+k[1]*ke+z[1]*Pe,o[2]=d[2]*_e+m[2]*Re+k[2]*ke+z[2]*Pe,o}function Ae(o,d){d=d||1;var m=2*M()*Math.PI,k=2*M()-1,z=Math.sqrt(1-k*k)*d;return o[0]=Math.cos(m)*z,o[1]=Math.sin(m)*z,o[2]=k*d,o}function $e(o,d,m){var k=d[0],z=d[1],q=d[2],ne=m[3]*k+m[7]*z+m[11]*q+m[15];return ne=ne||1,o[0]=(m[0]*k+m[4]*z+m[8]*q+m[12])/ne,o[1]=(m[1]*k+m[5]*z+m[9]*q+m[13])/ne,o[2]=(m[2]*k+m[6]*z+m[10]*q+m[14])/ne,o}function Pt(o,d,m){var k=d[0],z=d[1],q=d[2];return o[0]=k*m[0]+z*m[3]+q*m[6],o[1]=k*m[1]+z*m[4]+q*m[7],o[2]=k*m[2]+z*m[5]+q*m[8],o}function or(o,d,m){var k=m[0],z=m[1],q=m[2],ne=m[3],se=d[0],pe=d[1],_e=d[2],Re=z*_e-q*pe,ke=q*se-k*_e,Pe=k*pe-z*se,Ie=z*Pe-q*ke,Xe=q*Re-k*Pe,nt=k*ke-z*Re,h=2*ne;return Re*=h,ke*=h,Pe*=h,Ie*=2,Xe*=2,nt*=2,o[0]=se+Re+Ie,o[1]=pe+ke+Xe,o[2]=_e+Pe+nt,o}function ar(o,d,m,k){var z=[],q=[];return z[0]=d[0]-m[0],z[1]=d[1]-m[1],z[2]=d[2]-m[2],q[0]=z[0],q[1]=z[1]*Math.cos(k)-z[2]*Math.sin(k),q[2]=z[1]*Math.sin(k)+z[2]*Math.cos(k),o[0]=q[0]+m[0],o[1]=q[1]+m[1],o[2]=q[2]+m[2],o}function He(o,d,m,k){var z=[],q=[];return z[0]=d[0]-m[0],z[1]=d[1]-m[1],z[2]=d[2]-m[2],q[0]=z[2]*Math.sin(k)+z[0]*Math.cos(k),q[1]=z[1],q[2]=z[2]*Math.cos(k)-z[0]*Math.sin(k),o[0]=q[0]+m[0],o[1]=q[1]+m[1],o[2]=q[2]+m[2],o}function Tt(o,d,m,k){var z=[],q=[];return z[0]=d[0]-m[0],z[1]=d[1]-m[1],z[2]=d[2]-m[2],q[0]=z[0]*Math.cos(k)-z[1]*Math.sin(k),q[1]=z[0]*Math.sin(k)+z[1]*Math.cos(k),q[2]=z[2],o[0]=q[0]+m[0],o[1]=q[1]+m[1],o[2]=q[2]+m[2],o}function ir(o,d){var m=o[0],k=o[1],z=o[2],q=d[0],ne=d[1],se=d[2],pe=Math.sqrt(m*m+k*k+z*z)*Math.sqrt(q*q+ne*ne+se*se),_e=pe&&Fe(o,d)/pe;return Math.acos(Math.min(Math.max(_e,-1),1))}function ur(o){return o[0]=0,o[1]=0,o[2]=0,o}function cr(o){return"vec3("+o[0]+", "+o[1]+", "+o[2]+")"}function sr(o,d){return o[0]===d[0]&&o[1]===d[1]&&o[2]===d[2]}function fr(o,d){var m=o[0],k=o[1],z=o[2],q=d[0],ne=d[1],se=d[2];return Math.abs(m-q)<=g*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(k-ne)<=g*Math.max(1,Math.abs(k),Math.abs(ne))&&Math.abs(z-se)<=g*Math.max(1,Math.abs(z),Math.abs(se))}var Dt=De,lr=Rt,dr=Mt,jt=Et,hr=At,rt=Ke,pr=tt,It=(function(){var o=Ue();return function(d,m,k,z,q,ne){var se,pe;for(m||(m=3),k||(k=0),pe=z?Math.min(z*m+k,d.length):d.length,se=k;se<pe;se+=m)o[0]=d[se],o[1]=d[se+1],o[2]=d[se+2],q(o,o,ne),d[se]=o[0],d[se+1]=o[1],d[se+2]=o[2];return d}})()},function(i,w,e){var a=e(13).default,u=e(1);i.exports=function(s,f){if(f&&(a(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(s)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(40);i.exports=function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),s&&a(u,s)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(141)();i.exports=a;try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},function(i,w,e){w.a={init:function(a,u){a.fill(u)},shuffle:function(a){for(var u=a.length-1;u>0;u--){var s=Math.floor(Math.random()*(u+1)),f=[a[s],a[u]];a[u]=f[0],a[s]=f[1]}return a},toPointList:function(a){var u=a.reduce((function(s,f){var g="[".concat(f.join(","),"]");return s.push(g),s}),[]);return"[".concat(u.join(`,\r
`),"]")},threshold:function(a,u,s){return a.reduce((function(f,g){return s.apply(a,[g])>=u&&f.push(g),f}),[])},maxIndex:function(a){for(var u=0,s=0;s<a.length;s++)a[s]>a[u]&&(u=s);return u},max:function(a){for(var u=0,s=0;s<a.length;s++)a[s]>u&&(u=a[s]);return u},sum:function(a){for(var u=a.length,s=0;u--;)s+=a[u];return s}}},function(i,w,e){e.d(w,"h",(function(){return g})),e.d(w,"i",(function(){return M})),e.d(w,"b",(function(){return C})),e.d(w,"j",(function(){return S})),e.d(w,"e",(function(){return D})),e.d(w,"c",(function(){return G})),e.d(w,"f",(function(){return Z})),e.d(w,"g",(function(){return K})),e.d(w,"a",(function(){return B})),e.d(w,"d",(function(){return A}));var a=e(5),u=e(9);a.a.setMatrixArrayType(Array);var s=function(O,P){var N=[],T={rad:0,vec:a.c.clone([0,0])},X={};function j(E){X[E.id]=E,N.push(E)}function V(){var E,$=0;for(E=0;E<N.length;E++)$+=N[E].rad;T.rad=$/N.length,T.vec=a.c.clone([Math.cos(T.rad),Math.sin(T.rad)])}return j(O),V(),{add:function(E){X[E.id]||(j(E),V())},fits:function(E){return Math.abs(a.c.dot(E.point.vec,T.vec))>P},getPoints:function(){return N},getCenter:function(){return T}}},f=function(O,P,N){return{rad:O[N],point:O,id:P}};function g(O,P){return{x:O,y:P,toVec2:function(){return a.c.clone([this.x,this.y])},toVec3:function(){return a.d.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function b(O,P){P||(P=8);for(var N=O.data,T=N.length,X=8-P,j=new Int32Array(1<<P);T--;)j[N[T]>>X]++;return j}function M(O,P){var N=(function(T){var X,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,V=8-j;function E(Y,ae){for(var te=0,re=Y;re<=ae;re++)te+=X[re];return te}function $(Y,ae){for(var te=0,re=Y;re<=ae;re++)te+=re*X[re];return te}function J(){var Y,ae,te,re,fe=[0],L=(1<<j)-1;X=b(T,j);for(var U=1;U<L;U++)(te=(Y=E(0,U))*(ae=E(U+1,L)))===0&&(te=1),re=$(0,U)*ae-$(U+1,L)*Y,fe[U]=re*re/te;return u.a.maxIndex(fe)}var ee=J();return ee<<V})(O);return(function(T,X,j){j||(j=T);for(var V=T.data,E=V.length,$=j.data;E--;)$[E]=V[E]<X?1:0})(O,N,P),N}function C(O,P,N){var T,X,j,V,E=[];function $(J){var ee=!1;for(X=0;X<E.length;X++)(j=E[X]).fits(J)&&(j.add(J),ee=!0);return ee}for(N||(N="rad"),T=0;T<O.length;T++)$(V=f(O[T],T,N))||E.push(s(V,P));return E}a.a.setMatrixArrayType(Array);function S(O,P,N){var T,X,j,V,E=0,$=0,J=[];for(T=0;T<P;T++)J[T]={score:0,item:null};for(T=0;T<O.length;T++)if((X=N.apply(this,[O[T]]))>$)for((j=J[E]).score=X,j.item=O[T],$=Number.MAX_VALUE,V=0;V<P;V++)J[V].score<$&&($=J[V].score,E=V);return J}function D(O,P,N){for(var T,X=0,j=P.x,V=Math.floor(O.length/4),E=P.x/2,$=0,J=P.x;j<V;){for(T=0;T<E;T++)N[$]=(.299*O[4*X+0]+.587*O[4*X+1]+.114*O[4*X+2]+(.299*O[4*(X+1)+0]+.587*O[4*(X+1)+1]+.114*O[4*(X+1)+2])+(.299*O[4*j+0]+.587*O[4*j+1]+.114*O[4*j+2])+(.299*O[4*(j+1)+0]+.587*O[4*(j+1)+1]+.114*O[4*(j+1)+2]))/4,$++,X+=2,j+=2;X+=J,j+=J}}function G(O,P,N){var T=O.length/4|0;if(N&&N.singleChannel===!0)for(var X=0;X<T;X++)P[X]=O[4*X+0];else for(var j=0;j<T;j++)P[j]=.299*O[4*j+0]+.587*O[4*j+1]+.114*O[4*j+2]}function Z(O,P){for(var N=O.data,T=O.size.x,X=P.data,j=0,V=T,E=N.length,$=T/2,J=0;V<E;){for(var ee=0;ee<$;ee++)X[J]=Math.floor((N[j]+N[j+1]+N[V]+N[V+1])/4),J++,j+=2,V+=2;j+=T,V+=T}}function K(O){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],N=O[0],T=O[1],X=O[2],j=X*T,V=j*(1-Math.abs(N/60%2-1)),E=X-j,$=0,J=0,ee=0;return N<60?($=j,J=V):N<120?($=V,J=j):N<180?(J=j,ee=V):N<240?(J=V,ee=j):N<300?($=V,ee=j):N<360&&($=j,ee=V),P[0]=255*($+E)|0,P[1]=255*(J+E)|0,P[2]=255*(ee+E)|0,P}function oe(O){for(var P=[],N=[],T=1;T<Math.sqrt(O)+1;T++)O%T==0&&(N.push(T),T!==O/T&&P.unshift(Math.floor(O/T)));return N.concat(P)}function B(O,P){var N,T=oe(P.x),X=oe(P.y),j=Math.max(P.x,P.y),V=(function(te,re){for(var fe=0,L=0,U=[];fe<te.length&&L<re.length;)te[fe]===re[L]?(U.push(te[fe]),fe++,L++):te[fe]>re[L]?L++:fe++;return U})(T,X),E=[8,10,15,20,32,60,80],$={"x-small":5,small:4,medium:3,large:2,"x-large":1},J=$[O]||$.medium,ee=E[J],Y=Math.floor(j/ee);function ae(te){for(var re=0,fe=te[Math.floor(te.length/2)];re<te.length-1&&te[re]<Y;)re++;return re>0&&(fe=Math.abs(te[re]-Y)>Math.abs(te[re-1]-Y)?te[re-1]:te[re]),Y/fe<E[J+1]/E[J]&&Y/fe>E[J-1]/E[J]?{x:fe,y:fe}:null}return(N=ae(V))||(N=ae(oe(j)))||(N=ae(oe(Y*ee))),N}var I={top:function(O,P){return O.unit==="%"?Math.floor(P.height*(O.value/100)):null},right:function(O,P){return O.unit==="%"?Math.floor(P.width-P.width*(O.value/100)):null},bottom:function(O,P){return O.unit==="%"?Math.floor(P.height-P.height*(O.value/100)):null},left:function(O,P){return O.unit==="%"?Math.floor(P.width*(O.value/100)):null}};function A(O,P,N){var T={width:O,height:P},X=Object.keys(N).reduce((function(j,V){var E=(function(J){return{value:parseFloat(J),unit:(J.indexOf("%"),J.length,"%")}})(N[V]),$=I[V](E,T);return j[V]=$,j}),{});return{sx:X.left,sy:X.top,sw:X.right-X.left,sh:X.bottom-X.top}}},function(i,w,e){var a=e(62),u=e.n(a),s=e(3),f=e.n(s),g=e(4),b=e.n(g),M=e(0),C=e.n(M),S=e(5),D=e(9),G=e(10);function Z(oe){if(oe<0)throw new Error("expected positive number, received ".concat(oe))}S.a.setMatrixArrayType(Array);var K=(function(){function oe(B,I){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,O=arguments.length>3?arguments[3]:void 0;f()(this,oe),C()(this,"data",void 0),C()(this,"size",void 0),C()(this,"indexMapping",void 0),I?this.data=I:(this.data=new A(B.x*B.y),O&&D.a.init(this.data,0)),this.size=B}return b()(oe,[{key:"inImageWithBorder",value:function(B){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Z(I),B.x>=0&&B.y>=0&&B.x<this.size.x+2*I&&B.y<this.size.y+2*I}},{key:"subImageAsCopy",value:function(B,I){Z(I.x),Z(I.y);for(var A=B.size,O=A.x,P=A.y,N=0;N<O;N++)for(var T=0;T<P;T++)B.data[T*O+N]=this.data[(I.y+T)*this.size.x+I.x+N];return B}},{key:"get",value:function(B,I){return this.data[I*this.size.x+B]}},{key:"getSafe",value:function(B,I){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var A=0;A<this.size.x;A++)this.indexMapping.x[A]=A,this.indexMapping.x[A+this.size.x]=A;for(var O=0;O<this.size.y;O++)this.indexMapping.y[O]=O,this.indexMapping.y[O+this.size.y]=O}return this.data[this.indexMapping.y[I+this.size.y]*this.size.x+this.indexMapping.x[B+this.size.x]]}},{key:"set",value:function(B,I,A){return this.data[I*this.size.x+B]=A,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var B=this.size,I=B.x,A=B.y,O=0;O<I;O++)this.data[O]=this.data[(A-1)*I+O]=0;for(var P=1;P<A-1;P++)this.data[P*I]=this.data[P*I+(I-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(B){var I,A,O,P,N,T,X,j,V,E,$=this.data,J=this.size.y,ee=this.size.x,Y=[],ae=[],te=Math.PI,re=te/4;if(B<=0)return ae;for(N=0;N<B;N++)Y[N]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(A=0;A<J;A++)for(P=A*A,I=0;I<ee;I++)(O=$[A*ee+I])>0&&((T=Y[O-1]).m00+=1,T.m01+=A,T.m10+=I,T.m11+=I*A,T.m02+=P,T.m20+=I*I);for(N=0;N<B;N++)T=Y[N],isNaN(T.m00)||T.m00===0||(j=T.m10/T.m00,V=T.m01/T.m00,X=T.m11/T.m00-j*V,E=(T.m02/T.m00-V*V-(T.m20/T.m00-j*j))/(2*X),E=.5*Math.atan(E)+(X>=0?re:-re)+te,T.theta=(180*E/te+90)%180-90,T.theta<0&&(T.theta+=180),T.rad=E>te?E-te:E,T.vec=S.c.clone([Math.cos(E),Math.sin(E)]),ae.push(T));return ae}},{key:"getAsRGBA",value:function(){for(var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,I=new Uint8ClampedArray(4*this.size.x*this.size.y),A=0;A<this.size.y;A++)for(var O=0;O<this.size.x;O++){var P=A*this.size.x+O,N=this.get(O,A)*B;I[4*P+0]=N,I[4*P+1]=N,I[4*P+2]=N,I[4*P+3]=255}return I}},{key:"show",value:function(B){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var A=B.getContext("2d");if(!A)throw new Error("Unable to get canvas context");var O=A.getImageData(0,0,B.width,B.height),P=this.getAsRGBA(I);B.width=this.size.x,B.height=this.size.y;var N=new ImageData(P,O.width,O.height);A.putImageData(N,0,0)}},{key:"overlay",value:function(B,I,A){var O=I<0||I>360?360:I,P=[0,1,1],N=[0,0,0],T=[255,255,255],X=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var j=B.getContext("2d");if(!j)throw new Error("Unable to get canvas context");for(var V=j.getImageData(A.x,A.y,this.size.x,this.size.y),E=V.data,$=this.data.length;$--;){P[0]=this.data[$]*O;var J=4*$,ee=P[0]<=0?T:P[0]>=360?X:Object(G.g)(P,N),Y=u()(ee,3);E[J]=Y[0],E[J+1]=Y[1],E[J+2]=Y[2],E[J+3]=255}j.putImageData(V,A.x,A.y)}}]),oe})();w.a=K},function(i,w){function e(a,u,s,f,g,b,M){try{var C=a[b](M),S=C.value}catch(D){return void s(D)}C.done?u(S):Promise.resolve(S).then(f,g)}i.exports=function(a){return function(){var u=this,s=arguments;return new Promise((function(f,g){var b=a.apply(u,s);function M(S){e(b,f,g,M,C,"next",S)}function C(S){e(b,f,g,M,C,"throw",S)}M(void 0)}))}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){function e(a){return i.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},i.exports.__esModule=!0,i.exports.default=i.exports,e(a)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(142);function u(){return typeof Reflect<"u"&&Reflect.get?(i.exports=u=Reflect.get.bind(),i.exports.__esModule=!0,i.exports.default=i.exports):(i.exports=u=function(s,f,g){var b=a(s,f);if(b){var M=Object.getOwnPropertyDescriptor(b,f);return M.get?M.get.call(arguments.length<3?s:g):M.value}},i.exports.__esModule=!0,i.exports.default=i.exports),u.apply(this,arguments)}i.exports=u,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e){var a=typeof e;return e!=null&&(a=="object"||a=="function")}},function(i,w){var e=Array.isArray;i.exports=e},function(i,w,e){w.a={drawRect:function(a,u,s,f){s.strokeStyle=f.color,s.fillStyle=f.color,s.lineWidth=f.lineWidth||1,s.beginPath(),s.strokeRect(a.x,a.y,u.x,u.y)},drawPath:function(a,u,s,f){s.strokeStyle=f.color,s.fillStyle=f.color,s.lineWidth=f.lineWidth,s.beginPath(),s.moveTo(a[0][u.x],a[0][u.y]);for(var g=1;g<a.length;g++)s.lineTo(a[g][u.x],a[g][u.y]);s.closePath(),s.stroke()},drawImage:function(a,u,s){var f=s.getImageData(0,0,u.x,u.y),g=f.data,b=g.length,M=a.length;if(b/M!=4)return!1;for(;M--;){var C=a[M];g[--b]=255,g[--b]=C,g[--b]=C,g[--b]=C}return s.putImageData(f,0,0),!0}}},function(i,w,e){var a=e(74),u=e(129)((function(s,f,g){a(s,f,g)}));i.exports=u},function(i,w,e){var a=e(44),u=typeof self=="object"&&self&&self.Object===Object&&self,s=a||u||Function("return this")();i.exports=s},function(i,w){i.exports=function(e){return e!=null&&typeof e=="object"}},function(i,w,e){w.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(a,u){var s,f=a.data,g=u.data,b=this.searchDirections,M=a.size.x;function C(D,G,Z,K){var oe,B,I;for(oe=0;oe<b.length;oe++){if(B=D.cy+b[D.dir][0],I=D.cx+b[D.dir][1],f[s=B*M+I]===G&&(g[s]===0||g[s]===Z))return g[s]=Z,D.cy=B,D.cx=I,!0;g[s]===0&&(g[s]=K),D.dir=(D.dir+1)%8}return!1}function S(D,G,Z){return{dir:Z,x:D,y:G,next:null,prev:null}}return{trace:function(D,G,Z,K){return C(D,G,Z,K)},contourTracing:function(D,G,Z,K,oe){return(function(B,I,A,O,P){var N,T,X,j=null,V={cx:I,cy:B,dir:0};if(C(V,O,A,P)){N=j=S(I,B,V.dir),X=V.dir,(T=S(V.cx,V.cy,0)).prev=N,N.next=T,T.next=null,N=T;var E=a.size.x*a.size.y,$=0;do V.dir=(V.dir+6)%8,C(V,O,A,P),X!==V.dir?(N.dir=V.dir,(T=S(V.cx,V.cy,0)).prev=N,N.next=T,T.next=null,N=T):(N.dir=X,N.x=V.cx,N.y=V.cy),X=V.dir;while((V.cx!==I||V.cy!==B)&&++$<E);j.prev=N.prev,N.prev.next=j}return j})(D,G,Z,K,oe)}}}}},function(i,w,e){var a=e(27),u=e(87),s=e(88),f=a?a.toStringTag:void 0;i.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":f&&f in Object(g)?u(g):s(g)}},function(i,w,e){(function(a){var u,s,f,g,b,M,C,S,D,G,Z=e(5),K=e(11),oe=e(10),B=e(9),I=(e(17),e(65)),A=e(21),O=e(66);Z.a.setMatrixArrayType(Array);var P,N,T={ctx:{binary:null},dom:{binary:null}},X={x:0,y:0};function j($){var J,ee,Y,ae,te,re,fe,L=D.size.x,U=D.size.y,W=-D.size.x,ce=-D.size.y;for(J=0,ee=0;ee<$.length;ee++)J+=(ae=$[ee]).rad;for((J=(180*(J/=$.length)/Math.PI+90)%180-90)<0&&(J+=180),J=(180-J)*Math.PI/180,te=Z.b.copy(Z.b.create(),[Math.cos(J),Math.sin(J),-Math.sin(J),Math.cos(J)]),ee=0;ee<$.length;ee++)for(ae=$[ee],Y=0;Y<4;Y++)Z.c.transformMat2(ae.box[Y],ae.box[Y],te);for(ee=0;ee<$.length;ee++)for(ae=$[ee],Y=0;Y<4;Y++)ae.box[Y][0]<L&&(L=ae.box[Y][0]),ae.box[Y][0]>W&&(W=ae.box[Y][0]),ae.box[Y][1]<U&&(U=ae.box[Y][1]),ae.box[Y][1]>ce&&(ce=ae.box[Y][1]);for(re=[[L,U],[W,U],[W,ce],[L,ce]],fe=u.halfSample?2:1,te=Z.b.invert(te,te),Y=0;Y<4;Y++)Z.c.transformMat2(re[Y],re[Y],te);for(Y=0;Y<4;Y++)Z.c.scale(re[Y],re[Y],fe);return re}function V($,J){D.subImageAsCopy(g,Object(oe.h)($,J)),N.skeletonize()}function E($,J,ee,Y){var ae,te,re,fe,L=[],U=[],W=Math.ceil(G.x/3);if($.length>=2){for(ae=0;ae<$.length;ae++)$[ae].m00>W&&L.push($[ae]);if(L.length>=2){for(re=(function(he){var ge=Object(oe.b)(he,.9),ye=Object(oe.j)(ge,1,(function(Ce){return Ce.getPoints().length})),xe=[],we=[];if(ye.length===1){xe=ye[0].item.getPoints();for(var Ee=0;Ee<xe.length;Ee++)we.push(xe[Ee].point)}return we})(L),te=0,ae=0;ae<re.length;ae++){var ce,ie;te+=(ce=(ie=re[ae])===null||ie===void 0?void 0:ie.rad)!==null&&ce!==void 0?ce:0}re.length>1&&re.length>=L.length/4*3&&re.length>$.length/4&&(te/=re.length,fe={index:J[1]*X.x+J[0],pos:{x:ee,y:Y},box:[Z.c.clone([ee,Y]),Z.c.clone([ee+g.size.x,Y]),Z.c.clone([ee+g.size.x,Y+g.size.y]),Z.c.clone([ee,Y+g.size.y])],moments:re,rad:te,vec:Z.c.clone([Math.cos(te),Math.sin(te)])},U.push(fe))}}return U}w.a={init:function($,J){u=J,P=$,(function(){s=u.halfSample?new K.a({x:P.size.x/2|0,y:P.size.y/2|0}):P,G=Object(oe.a)(u.patchSize,s.size),X.x=s.size.x/G.x|0,X.y=s.size.y/G.y|0,D=new K.a(s.size,void 0,Uint8Array,!1),b=new K.a(G,void 0,Array,!0);var ee=new ArrayBuffer(65536);g=new K.a(G,new Uint8Array(ee,0,G.x*G.y)),f=new K.a(G,new Uint8Array(ee,G.x*G.y*3,G.x*G.y),void 0,!0),N=Object(O.a)(typeof window<"u"?window:typeof self<"u"?self:a,{size:G.x},ee),S=new K.a({x:s.size.x/g.size.x|0,y:s.size.y/g.size.y|0},void 0,Array,!0),M=new K.a(S.size,void 0,void 0,!0),C=new K.a(S.size,void 0,Int32Array,!0)})(),(function(){if(!u.useWorker&&typeof document<"u"){T.dom.binary=document.createElement("canvas"),T.dom.binary.className="binaryBuffer";var ee=!!u.willReadFrequently;console.warn("* initCanvas willReadFrequently",ee,u),T.ctx.binary=T.dom.binary.getContext("2d",{willReadFrequently:ee}),T.dom.binary.width=D.size.x,T.dom.binary.height=D.size.y}})()},locate:function(){u.halfSample&&Object(oe.f)(P,s),Object(oe.i)(s,D),D.zeroBorder();var $=(function(){var Y,ae,te,re,fe,L,U=[];for(Y=0;Y<X.x;Y++)for(ae=0;ae<X.y;ae++)V(te=g.size.x*Y,re=g.size.y*ae),f.zeroBorder(),B.a.init(b.data,0),L=I.a.create(f,b).rasterize(0),fe=b.moments(L.count),U=U.concat(E(fe,[Y,ae],te,re));return U})();if($.length<X.x*X.y*.05)return null;var J=(function(Y){var ae,te,re=0,fe=0;function L(){var W;for(W=0;W<C.data.length;W++)if(C.data[W]===0&&M.data[W]===1)return W;return C.data.length}function U(W){var ce,ie,he,ge,ye,xe=W%C.size.x,we=W/C.size.x|0;if(W<C.data.length)for(he=S.data[W],C.data[W]=re,ye=0;ye<A.a.searchDirections.length;ye++)ie=we+A.a.searchDirections[ye][0],ce=xe+A.a.searchDirections[ye][1],ge=ie*C.size.x+ce,M.data[ge]!==0?C.data[ge]===0&&Math.abs(Z.c.dot(S.data[ge].vec,he.vec))>.95&&U(ge):C.data[ge]=Number.MAX_VALUE}for(B.a.init(M.data,0),B.a.init(C.data,0),B.a.init(S.data,null),ae=0;ae<Y.length;ae++)te=Y[ae],S.data[te.index]=te,M.data[te.index]=1;for(M.zeroBorder();(fe=L())<C.data.length;)re++,U(fe);return re})($);if(J<1)return null;var ee=(function(Y){var ae,te,re=[];for(ae=0;ae<Y;ae++)re.push(0);for(te=C.data.length;te--;)C.data[te]>0&&re[C.data[te]-1]++;return(re=re.map((function(fe,L){return{val:fe,label:L+1}}))).sort((function(fe,L){return L.val-fe.val})),re.filter((function(fe){return fe.val>=5}))})(J);return ee.length===0?null:(function(Y,ae){var te,re,fe,L,U=[],W=[];for(te=0;te<Y.length;te++){for(re=C.data.length,U.length=0;re--;)C.data[re]===Y[te].label&&(fe=S.data[re],U.push(fe));(L=j(U))&&W.push(L)}return W})(ee)},checkImageConstraints:function($,J){var ee,Y,ae=$.getWidth(),te=$.getHeight(),re=J.halfSample?.5:1;$.getConfig().area&&(Y=Object(oe.d)(ae,te,$.getConfig().area),$.setTopRight({x:Y.sx,y:Y.sy}),$.setCanvasSize({x:ae,y:te}),ae=Y.sw,te=Y.sh);var fe={x:Math.floor(ae*re),y:Math.floor(te*re)};if(ee=Object(oe.a)(J.patchSize,fe),$.setWidth(Math.max(Math.floor(Math.floor(fe.x/ee.x)*(1/re)*ee.x),ee.x)),$.setHeight(Math.max(Math.floor(Math.floor(fe.y/ee.y)*(1/re)*ee.y),ee.y)),$.getWidth()%ee.x==0&&$.getHeight()%ee.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(ae," )and height (").concat(te,") must a multiple of ").concat(ee.x))}}}).call(this,e(45))},function(i,w,e){var a=e(76),u=e(77),s=e(78),f=e(79),g=e(80);function b(M){var C=-1,S=M==null?0:M.length;for(this.clear();++C<S;){var D=M[C];this.set(D[0],D[1])}}b.prototype.clear=a,b.prototype.delete=u,b.prototype.get=s,b.prototype.has=f,b.prototype.set=g,i.exports=b},function(i,w,e){var a=e(26);i.exports=function(u,s){for(var f=u.length;f--;)if(a(u[f][0],s))return f;return-1}},function(i,w){i.exports=function(e,a){return e===a||e!=e&&a!=a}},function(i,w,e){var a=e(19).Symbol;i.exports=a},function(i,w,e){var a=e(34)(Object,"create");i.exports=a},function(i,w,e){var a=e(101);i.exports=function(u,s){var f=u.__data__;return a(s)?f[typeof s=="string"?"string":"hash"]:f.map}},function(i,w,e){var a=e(116),u=e(20),s=Object.prototype,f=s.hasOwnProperty,g=s.propertyIsEnumerable,b=a((function(){return arguments})())?a:function(M){return u(M)&&f.call(M,"callee")&&!g.call(M,"callee")};i.exports=b},function(i,w){var e=/^(?:0|[1-9]\d*)$/;i.exports=function(a,u){var s=typeof a;return!!(u=u??9007199254740991)&&(s=="number"||s!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<u}},function(i,w,e){var a=e(16),u=e(149),s=e(150),f=e(153);i.exports=function(g,b){return a(g)?g:u(g,b)?[g]:s(f(g))}},function(i,w,e){var a=e(143),u=e(144),s=e(59),f=e(145);i.exports=function(g){return a(g)||u(g)||s(g)||f()},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(86),u=e(92);i.exports=function(s,f){var g=u(s,f);return a(g)?g:void 0}},function(i,w,e){var a=e(22),u=e(15);i.exports=function(s){if(!u(s))return!1;var f=a(s);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}},function(i,w,e){var a=e(48);i.exports=function(u,s,f){s=="__proto__"&&a?a(u,s,{configurable:!0,enumerable:!0,value:f,writable:!0}):u[s]=f}},function(i,w){i.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(i,w,e){var a=e(35),u=e(39);i.exports=function(s){return s!=null&&u(s.length)&&!a(s)}},function(i,w){i.exports=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991}},function(i,w){function e(a,u){return i.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,f){return s.__proto__=f,s},i.exports.__esModule=!0,i.exports.default=i.exports,e(a,u)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(22),u=e(20);i.exports=function(s){return typeof s=="symbol"||u(s)&&a(s)=="[object Symbol]"}},function(i,w,e){var a=e(41);i.exports=function(u){if(typeof u=="string"||a(u))return u;var s=u+"";return s=="0"&&1/u==-1/0?"-0":s}},function(i,w,e){var a=e(34)(e(19),"Map");i.exports=a},function(i,w,e){(function(a){var u=typeof a=="object"&&a&&a.Object===Object&&a;i.exports=u}).call(this,e(45))},function(i,w){var e;e=(function(){return this})();try{e=e||new Function("return this")()}catch{typeof window=="object"&&(e=window)}i.exports=e},function(i,w,e){var a=e(93),u=e(100),s=e(102),f=e(103),g=e(104);function b(M){var C=-1,S=M==null?0:M.length;for(this.clear();++C<S;){var D=M[C];this.set(D[0],D[1])}}b.prototype.clear=a,b.prototype.delete=u,b.prototype.get=s,b.prototype.has=f,b.prototype.set=g,i.exports=b},function(i,w,e){var a=e(36),u=e(26);i.exports=function(s,f,g){(g!==void 0&&!u(s[f],g)||g===void 0&&!(f in s))&&a(s,f,g)}},function(i,w,e){var a=e(34),u=(function(){try{var s=a(Object,"defineProperty");return s({},"",{}),s}catch{}})();i.exports=u},function(i,w,e){var a=e(115)(Object.getPrototypeOf,Object);i.exports=a},function(i,w){var e=Object.prototype;i.exports=function(a){var u=a&&a.constructor;return a===(typeof u=="function"&&u.prototype||e)}},function(i,w,e){(function(a){var u=e(19),s=e(118),f=w&&!w.nodeType&&w,g=f&&typeof a=="object"&&a&&!a.nodeType&&a,b=g&&g.exports===f?u.Buffer:void 0,M=(b?b.isBuffer:void 0)||s;a.exports=M}).call(this,e(37)(i))},function(i,w,e){var a=e(120),u=e(121),s=e(122),f=s&&s.isTypedArray,g=f?u(f):a;i.exports=g},function(i,w){i.exports=function(e,a){if((a!=="constructor"||typeof e[a]!="function")&&a!="__proto__")return e[a]}},function(i,w,e){var a=e(36),u=e(26),s=Object.prototype.hasOwnProperty;i.exports=function(f,g,b){var M=f[g];s.call(f,g)&&u(M,b)&&(b!==void 0||g in f)||a(f,g,b)}},function(i,w,e){var a=e(125),u=e(127),s=e(38);i.exports=function(f){return s(f)?a(f,!0):u(f)}},function(i,w){i.exports=function(e){return e}},function(i,w,e){var a=e(131),u=Math.max;i.exports=function(s,f,g){return f=u(f===void 0?s.length-1:f,0),function(){for(var b=arguments,M=-1,C=u(b.length-f,0),S=Array(C);++M<C;)S[M]=b[f+M];M=-1;for(var D=Array(f+1);++M<f;)D[M]=b[M];return D[f]=g(S),a(s,this,D)}}},function(i,w,e){var a=e(132),u=e(134)(a);i.exports=u},function(i,w,e){var a=e(60);i.exports=function(u,s){if(u){if(typeof u=="string")return a(u,s);var f=Object.prototype.toString.call(u).slice(8,-1);return f==="Object"&&u.constructor&&(f=u.constructor.name),f==="Map"||f==="Set"?Array.from(u):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?a(u,s):void 0}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e,a){(a==null||a>e.length)&&(a=e.length);for(var u=0,s=new Array(a);u<a;u++)s[u]=e[u];return s},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(13).default,u=e(140);i.exports=function(s){var f=u(s,"string");return a(f)==="symbol"?f:String(f)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(137),u=e(138),s=e(59),f=e(139);i.exports=function(g,b){return a(g)||u(g,b)||s(g,b)||f()},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(146),u=e(160)((function(s,f){return s==null?{}:a(s,f)}));i.exports=u},function(i,w,e){var a=e(2),u=e(40),s=e(165),f=e(166);function g(b){var M=typeof Map=="function"?new Map:void 0;return i.exports=g=function(C){if(C===null||!s(C))return C;if(typeof C!="function")throw new TypeError("Super expression must either be null or a function");if(M!==void 0){if(M.has(C))return M.get(C);M.set(C,S)}function S(){return f(C,arguments,a(this).constructor)}return S.prototype=Object.create(C.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),u(S,C)},i.exports.__esModule=!0,i.exports.default=i.exports,g(b)}i.exports=g,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(21),u={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(s,f){var g=s.data,b=f.data,M=s.size.x,C=s.size.y,S=a.a.create(s,f);return{rasterize:function(D){var G,Z,K,oe,B,I,A,O,P,N,T,X,j=[],V=0;for(X=0;X<400;X++)j[X]=0;for(j[0]=g[0],P=null,I=1;I<C-1;I++)for(oe=0,Z=j[0],B=1;B<M-1;B++)if(b[T=I*M+B]===0)if((G=g[T])!==Z){if(oe===0)j[K=V+1]=G,Z=G,(A=S.contourTracing(I,B,K,G,u.DIR.OUTSIDE_EDGE))!==null&&(V++,oe=K,(O=u.createContour2D()).dir=u.CONTOUR_DIR.CW_DIR,O.index=oe,O.firstVertex=A,O.nextpeer=P,O.insideContours=null,P!==null&&(P.prevpeer=O),P=O);else if((A=S.contourTracing(I,B,u.DIR.INSIDE_EDGE,G,oe))!==null){for((O=u.createContour2D()).firstVertex=A,O.insideContours=null,O.dir=D===0?u.CONTOUR_DIR.CCW_DIR:u.CONTOUR_DIR.CW_DIR,O.index=D,N=P;N!==null&&N.index!==oe;)N=N.nextpeer;N!==null&&(O.nextpeer=N.insideContours,N.insideContours!==null&&(N.insideContours.prevpeer=O),N.insideContours=O)}}else b[T]=oe;else b[T]===u.DIR.OUTSIDE_EDGE||b[T]===u.DIR.INSIDE_EDGE?(oe=0,Z=b[T]===u.DIR.INSIDE_EDGE?g[T]:j[0]):Z=j[oe=b[T]];for(N=P;N!==null;)N.index=D,N=N.nextpeer;return{cc:P,count:V}},debug:{drawContour:function(D,G){var Z,K,oe,B=D.getContext("2d"),I=G;for(B.strokeStyle="red",B.fillStyle="red",B.lineWidth=1,Z=I!==null?I.insideContours:null;I!==null;){switch(Z!==null?(K=Z,Z=Z.nextpeer):(K=I,Z=(I=I.nextpeer)!==null?I.insideContours:null),K.dir){case u.CONTOUR_DIR.CW_DIR:B.strokeStyle="red";break;case u.CONTOUR_DIR.CCW_DIR:B.strokeStyle="blue";break;case u.CONTOUR_DIR.UNKNOWN_DIR:B.strokeStyle="green"}oe=K.firstVertex,B.beginPath(),B.moveTo(oe.x,oe.y);do oe=oe.next,B.lineTo(oe.x,oe.y);while(oe!==K.firstVertex);B.stroke()}}}}}};w.a=u},function(i,w,e){/* @preserve ASM BEGIN *//* @preserve ASM END */w.a=function(a,u,s){var f=new a.Uint8Array(s),g=u.size|0,b=a.Math.imul;function M(I,A){I|=0,A|=0;var O=0,P=0,N=0,T=0,X=0,j=0,V=0,E=0;for(O=1;(O|0)<(g-1|0);O=O+1|0)for(E=E+g|0,P=1;(P|0)<(g-1|0);P=P+1|0)T=E-g|0,X=E+g|0,j=P-1|0,V=P+1|0,N=(f[I+T+j|0]|0)+(f[I+T+V|0]|0)+(f[I+E+P|0]|0)+(f[I+X+j|0]|0)+(f[I+X+V|0]|0)|0,(N|0)==5?f[A+E+P|0]=1:f[A+E+P|0]=0}function C(I,A,O){I|=0,A|=0,O|=0;var P=0;for(P=b(g,g)|0;(P|0)>0;)P=P-1|0,f[O+P|0]=(f[I+P|0]|0)-(f[A+P|0]|0)|0}function S(I,A,O){I|=0,A|=0,O|=0;var P=0;for(P=b(g,g)|0;(P|0)>0;)P=P-1|0,f[O+P|0]=f[I+P|0]|0|(f[A+P|0]|0)|0}function D(I){I|=0;var A=0,O=0;for(O=b(g,g)|0;(O|0)>0;)O=O-1|0,A=(A|0)+(f[I+O|0]|0)|0;return A|0}function G(I,A){I|=0,A|=0;var O=0;for(O=b(g,g)|0;(O|0)>0;)O=O-1|0,f[I+O|0]=A}function Z(I,A){I|=0,A|=0;var O=0,P=0,N=0,T=0,X=0,j=0,V=0,E=0;for(O=1;(O|0)<(g-1|0);O=O+1|0)for(E=E+g|0,P=1;(P|0)<(g-1|0);P=P+1|0)T=E-g|0,X=E+g|0,j=P-1|0,V=P+1|0,N=(f[I+T+j|0]|0)+(f[I+T+V|0]|0)+(f[I+E+P|0]|0)+(f[I+X+j|0]|0)+(f[I+X+V|0]|0)|0,(N|0)>0?f[A+E+P|0]=1:f[A+E+P|0]=0}function K(I,A){I|=0,A|=0;var O=0;for(O=b(g,g)|0;(O|0)>0;)O=O-1|0,f[A+O|0]=f[I+O|0]|0}function oe(I){I|=0;var A=0,O=0;for(A=0;(A|0)<(g-1|0);A=A+1|0)f[I+A|0]=0,f[I+O|0]=0,O=O+g-1|0,f[I+O|0]=0,O=O+1|0;for(A=0;(A|0)<(g|0);A=A+1|0)f[I+O|0]=0,O=O+1|0}function B(){var I=0,A=0,O=0,P=0,N=0,T=0;A=b(g,g)|0,O=A+A|0,P=O+A|0,G(P,0),oe(I);do M(I,A),Z(A,O),C(I,O,O),S(P,O,P),K(A,I),N=D(I)|0,T=(N|0)==0|0;while(!T)}return{skeletonize:B}}},,,,,,,function(i,w,e){i.exports=e(168)},function(i,w,e){var a=e(75),u=e(47),s=e(105),f=e(107),g=e(15),b=e(55),M=e(53);i.exports=function C(S,D,G,Z,K){S!==D&&s(D,(function(oe,B){if(K||(K=new a),g(oe))f(S,D,B,G,C,Z,K);else{var I=Z?Z(M(S,B),oe,B+"",S,D,K):void 0;I===void 0&&(I=oe),u(S,B,I)}}),b)}},function(i,w,e){var a=e(24),u=e(81),s=e(82),f=e(83),g=e(84),b=e(85);function M(C){var S=this.__data__=new a(C);this.size=S.size}M.prototype.clear=u,M.prototype.delete=s,M.prototype.get=f,M.prototype.has=g,M.prototype.set=b,i.exports=M},function(i,w){i.exports=function(){this.__data__=[],this.size=0}},function(i,w,e){var a=e(25),u=Array.prototype.splice;i.exports=function(s){var f=this.__data__,g=a(f,s);return!(g<0)&&(g==f.length-1?f.pop():u.call(f,g,1),--this.size,!0)}},function(i,w,e){var a=e(25);i.exports=function(u){var s=this.__data__,f=a(s,u);return f<0?void 0:s[f][1]}},function(i,w,e){var a=e(25);i.exports=function(u){return a(this.__data__,u)>-1}},function(i,w,e){var a=e(25);i.exports=function(u,s){var f=this.__data__,g=a(f,u);return g<0?(++this.size,f.push([u,s])):f[g][1]=s,this}},function(i,w,e){var a=e(24);i.exports=function(){this.__data__=new a,this.size=0}},function(i,w){i.exports=function(e){var a=this.__data__,u=a.delete(e);return this.size=a.size,u}},function(i,w){i.exports=function(e){return this.__data__.get(e)}},function(i,w){i.exports=function(e){return this.__data__.has(e)}},function(i,w,e){var a=e(24),u=e(43),s=e(46);i.exports=function(f,g){var b=this.__data__;if(b instanceof a){var M=b.__data__;if(!u||M.length<199)return M.push([f,g]),this.size=++b.size,this;b=this.__data__=new s(M)}return b.set(f,g),this.size=b.size,this}},function(i,w,e){var a=e(35),u=e(89),s=e(15),f=e(91),g=/^\[object .+?Constructor\]$/,b=Function.prototype,M=Object.prototype,C=b.toString,S=M.hasOwnProperty,D=RegExp("^"+C.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");i.exports=function(G){return!(!s(G)||u(G))&&(a(G)?D:g).test(f(G))}},function(i,w,e){var a=e(27),u=Object.prototype,s=u.hasOwnProperty,f=u.toString,g=a?a.toStringTag:void 0;i.exports=function(b){var M=s.call(b,g),C=b[g];try{b[g]=void 0;var S=!0}catch{}var D=f.call(b);return S&&(M?b[g]=C:delete b[g]),D}},function(i,w){var e=Object.prototype.toString;i.exports=function(a){return e.call(a)}},function(i,w,e){var a,u=e(90),s=(a=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";i.exports=function(f){return!!s&&s in f}},function(i,w,e){var a=e(19)["__core-js_shared__"];i.exports=a},function(i,w){var e=Function.prototype.toString;i.exports=function(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}},function(i,w){i.exports=function(e,a){return e==null?void 0:e[a]}},function(i,w,e){var a=e(94),u=e(24),s=e(43);i.exports=function(){this.size=0,this.__data__={hash:new a,map:new(s||u),string:new a}}},function(i,w,e){var a=e(95),u=e(96),s=e(97),f=e(98),g=e(99);function b(M){var C=-1,S=M==null?0:M.length;for(this.clear();++C<S;){var D=M[C];this.set(D[0],D[1])}}b.prototype.clear=a,b.prototype.delete=u,b.prototype.get=s,b.prototype.has=f,b.prototype.set=g,i.exports=b},function(i,w,e){var a=e(28);i.exports=function(){this.__data__=a?a(null):{},this.size=0}},function(i,w){i.exports=function(e){var a=this.has(e)&&delete this.__data__[e];return this.size-=a?1:0,a}},function(i,w,e){var a=e(28),u=Object.prototype.hasOwnProperty;i.exports=function(s){var f=this.__data__;if(a){var g=f[s];return g==="__lodash_hash_undefined__"?void 0:g}return u.call(f,s)?f[s]:void 0}},function(i,w,e){var a=e(28),u=Object.prototype.hasOwnProperty;i.exports=function(s){var f=this.__data__;return a?f[s]!==void 0:u.call(f,s)}},function(i,w,e){var a=e(28);i.exports=function(u,s){var f=this.__data__;return this.size+=this.has(u)?0:1,f[u]=a&&s===void 0?"__lodash_hash_undefined__":s,this}},function(i,w,e){var a=e(29);i.exports=function(u){var s=a(this,u).delete(u);return this.size-=s?1:0,s}},function(i,w){i.exports=function(e){var a=typeof e;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?e!=="__proto__":e===null}},function(i,w,e){var a=e(29);i.exports=function(u){return a(this,u).get(u)}},function(i,w,e){var a=e(29);i.exports=function(u){return a(this,u).has(u)}},function(i,w,e){var a=e(29);i.exports=function(u,s){var f=a(this,u),g=f.size;return f.set(u,s),this.size+=f.size==g?0:1,this}},function(i,w,e){var a=e(106)();i.exports=a},function(i,w){i.exports=function(e){return function(a,u,s){for(var f=-1,g=Object(a),b=s(a),M=b.length;M--;){var C=b[e?M:++f];if(u(g[C],C,g)===!1)break}return a}}},function(i,w,e){var a=e(47),u=e(108),s=e(109),f=e(112),g=e(113),b=e(30),M=e(16),C=e(117),S=e(51),D=e(35),G=e(15),Z=e(119),K=e(52),oe=e(53),B=e(123);i.exports=function(I,A,O,P,N,T,X){var j=oe(I,O),V=oe(A,O),E=X.get(V);if(E)a(I,O,E);else{var $=T?T(j,V,O+"",I,A,X):void 0,J=$===void 0;if(J){var ee=M(V),Y=!ee&&S(V),ae=!ee&&!Y&&K(V);$=V,ee||Y||ae?M(j)?$=j:C(j)?$=f(j):Y?(J=!1,$=u(V,!0)):ae?(J=!1,$=s(V,!0)):$=[]:Z(V)||b(V)?($=j,b(j)?$=B(j):G(j)&&!D(j)||($=g(V))):J=!1}J&&(X.set(V,$),N($,V,P,T,X),X.delete(V)),a(I,O,$)}}},function(i,w,e){(function(a){var u=e(19),s=w&&!w.nodeType&&w,f=s&&typeof a=="object"&&a&&!a.nodeType&&a,g=f&&f.exports===s?u.Buffer:void 0,b=g?g.allocUnsafe:void 0;a.exports=function(M,C){if(C)return M.slice();var S=M.length,D=b?b(S):new M.constructor(S);return M.copy(D),D}}).call(this,e(37)(i))},function(i,w,e){var a=e(110);i.exports=function(u,s){var f=s?a(u.buffer):u.buffer;return new u.constructor(f,u.byteOffset,u.length)}},function(i,w,e){var a=e(111);i.exports=function(u){var s=new u.constructor(u.byteLength);return new a(s).set(new a(u)),s}},function(i,w,e){var a=e(19).Uint8Array;i.exports=a},function(i,w){i.exports=function(e,a){var u=-1,s=e.length;for(a||(a=Array(s));++u<s;)a[u]=e[u];return a}},function(i,w,e){var a=e(114),u=e(49),s=e(50);i.exports=function(f){return typeof f.constructor!="function"||s(f)?{}:a(u(f))}},function(i,w,e){var a=e(15),u=Object.create,s=(function(){function f(){}return function(g){if(!a(g))return{};if(u)return u(g);f.prototype=g;var b=new f;return f.prototype=void 0,b}})();i.exports=s},function(i,w){i.exports=function(e,a){return function(u){return e(a(u))}}},function(i,w,e){var a=e(22),u=e(20);i.exports=function(s){return u(s)&&a(s)=="[object Arguments]"}},function(i,w,e){var a=e(38),u=e(20);i.exports=function(s){return u(s)&&a(s)}},function(i,w){i.exports=function(){return!1}},function(i,w,e){var a=e(22),u=e(49),s=e(20),f=Function.prototype,g=Object.prototype,b=f.toString,M=g.hasOwnProperty,C=b.call(Object);i.exports=function(S){if(!s(S)||a(S)!="[object Object]")return!1;var D=u(S);if(D===null)return!0;var G=M.call(D,"constructor")&&D.constructor;return typeof G=="function"&&G instanceof G&&b.call(G)==C}},function(i,w,e){var a=e(22),u=e(39),s=e(20),f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1,i.exports=function(g){return s(g)&&u(g.length)&&!!f[a(g)]}},function(i,w){i.exports=function(e){return function(a){return e(a)}}},function(i,w,e){(function(a){var u=e(44),s=w&&!w.nodeType&&w,f=s&&typeof a=="object"&&a&&!a.nodeType&&a,g=f&&f.exports===s&&u.process,b=(function(){try{var M=f&&f.require&&f.require("util").types;return M||g&&g.binding&&g.binding("util")}catch{}})();a.exports=b}).call(this,e(37)(i))},function(i,w,e){var a=e(124),u=e(55);i.exports=function(s){return a(s,u(s))}},function(i,w,e){var a=e(54),u=e(36);i.exports=function(s,f,g,b){var M=!g;g||(g={});for(var C=-1,S=f.length;++C<S;){var D=f[C],G=b?b(g[D],s[D],D,g,s):void 0;G===void 0&&(G=s[D]),M?u(g,D,G):a(g,D,G)}return g}},function(i,w,e){var a=e(126),u=e(30),s=e(16),f=e(51),g=e(31),b=e(52),M=Object.prototype.hasOwnProperty;i.exports=function(C,S){var D=s(C),G=!D&&u(C),Z=!D&&!G&&f(C),K=!D&&!G&&!Z&&b(C),oe=D||G||Z||K,B=oe?a(C.length,String):[],I=B.length;for(var A in C)!S&&!M.call(C,A)||oe&&(A=="length"||Z&&(A=="offset"||A=="parent")||K&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||g(A,I))||B.push(A);return B}},function(i,w){i.exports=function(e,a){for(var u=-1,s=Array(e);++u<e;)s[u]=a(u);return s}},function(i,w,e){var a=e(15),u=e(50),s=e(128),f=Object.prototype.hasOwnProperty;i.exports=function(g){if(!a(g))return s(g);var b=u(g),M=[];for(var C in g)(C!="constructor"||!b&&f.call(g,C))&&M.push(C);return M}},function(i,w){i.exports=function(e){var a=[];if(e!=null)for(var u in Object(e))a.push(u);return a}},function(i,w,e){var a=e(130),u=e(135);i.exports=function(s){return a((function(f,g){var b=-1,M=g.length,C=M>1?g[M-1]:void 0,S=M>2?g[2]:void 0;for(C=s.length>3&&typeof C=="function"?(M--,C):void 0,S&&u(g[0],g[1],S)&&(C=M<3?void 0:C,M=1),f=Object(f);++b<M;){var D=g[b];D&&s(f,D,b,C)}return f}))}},function(i,w,e){var a=e(56),u=e(57),s=e(58);i.exports=function(f,g){return s(u(f,g,a),f+"")}},function(i,w){i.exports=function(e,a,u){switch(u.length){case 0:return e.call(a);case 1:return e.call(a,u[0]);case 2:return e.call(a,u[0],u[1]);case 3:return e.call(a,u[0],u[1],u[2])}return e.apply(a,u)}},function(i,w,e){var a=e(133),u=e(48),s=e(56),f=u?function(g,b){return u(g,"toString",{configurable:!0,enumerable:!1,value:a(b),writable:!0})}:s;i.exports=f},function(i,w){i.exports=function(e){return function(){return e}}},function(i,w){var e=Date.now;i.exports=function(a){var u=0,s=0;return function(){var f=e(),g=16-(f-s);if(s=f,g>0){if(++u>=800)return arguments[0]}else u=0;return a.apply(void 0,arguments)}}},function(i,w,e){var a=e(26),u=e(38),s=e(31),f=e(15);i.exports=function(g,b,M){if(!f(M))return!1;var C=typeof b;return!!(C=="number"?u(M)&&s(b,M.length):C=="string"&&b in M)&&a(M[b],g)}},function(i,w){typeof window<"u"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(e,a){var u=65535&e,s=65535&a;return u*s+((e>>>16&65535)*s+u*(a>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(e){if(e===null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),u=1;u<arguments.length;u++){var s=arguments[u];if(s!==null)for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(a[f]=s[f])}return a})},function(i,w){i.exports=function(e){if(Array.isArray(e))return e},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e,a){var u=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(u!=null){var s,f,g,b,M=[],C=!0,S=!1;try{if(g=(u=u.call(e)).next,a===0){if(Object(u)!==u)return;C=!1}else for(;!(C=(s=g.call(u)).done)&&(M.push(s.value),M.length!==a);C=!0);}catch(D){S=!0,f=D}finally{try{if(!C&&u.return!=null&&(b=u.return(),Object(b)!==b))return}finally{if(S)throw f}}return M}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(13).default;i.exports=function(u,s){if(a(u)!=="object"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var g=f.call(u,s||"default");if(a(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(u)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(13).default;function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i.exports=u=function(){return f},i.exports.__esModule=!0,i.exports.default=i.exports;var s,f={},g=Object.prototype,b=g.hasOwnProperty,M=Object.defineProperty||function(L,U,W){L[U]=W.value},C=typeof Symbol=="function"?Symbol:{},S=C.iterator||"@@iterator",D=C.asyncIterator||"@@asyncIterator",G=C.toStringTag||"@@toStringTag";function Z(L,U,W){return Object.defineProperty(L,U,{value:W,enumerable:!0,configurable:!0,writable:!0}),L[U]}try{Z({},"")}catch{Z=function(U,W,ce){return U[W]=ce}}function K(L,U,W,ce){var ie=U&&U.prototype instanceof P?U:P,he=Object.create(ie.prototype),ge=new re(ce||[]);return M(he,"_invoke",{value:ee(L,W,ge)}),he}function oe(L,U,W){try{return{type:"normal",arg:L.call(U,W)}}catch(ce){return{type:"throw",arg:ce}}}f.wrap=K;var B="suspendedStart",I="executing",A="completed",O={};function P(){}function N(){}function T(){}var X={};Z(X,S,(function(){return this}));var j=Object.getPrototypeOf,V=j&&j(j(fe([])));V&&V!==g&&b.call(V,S)&&(X=V);var E=T.prototype=P.prototype=Object.create(X);function $(L){["next","throw","return"].forEach((function(U){Z(L,U,(function(W){return this._invoke(U,W)}))}))}function J(L,U){function W(ie,he,ge,ye){var xe=oe(L[ie],L,he);if(xe.type!=="throw"){var we=xe.arg,Ee=we.value;return Ee&&a(Ee)=="object"&&b.call(Ee,"__await")?U.resolve(Ee.__await).then((function(Ce){W("next",Ce,ge,ye)}),(function(Ce){W("throw",Ce,ge,ye)})):U.resolve(Ee).then((function(Ce){we.value=Ce,ge(we)}),(function(Ce){return W("throw",Ce,ge,ye)}))}ye(xe.arg)}var ce;M(this,"_invoke",{value:function(ie,he){function ge(){return new U((function(ye,xe){W(ie,he,ye,xe)}))}return ce=ce?ce.then(ge,ge):ge()}})}function ee(L,U,W){var ce=B;return function(ie,he){if(ce===I)throw new Error("Generator is already running");if(ce===A){if(ie==="throw")throw he;return{value:s,done:!0}}for(W.method=ie,W.arg=he;;){var ge=W.delegate;if(ge){var ye=Y(ge,W);if(ye){if(ye===O)continue;return ye}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(ce===B)throw ce=A,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);ce=I;var xe=oe(L,U,W);if(xe.type==="normal"){if(ce=W.done?A:"suspendedYield",xe.arg===O)continue;return{value:xe.arg,done:W.done}}xe.type==="throw"&&(ce=A,W.method="throw",W.arg=xe.arg)}}}function Y(L,U){var W=U.method,ce=L.iterator[W];if(ce===s)return U.delegate=null,W==="throw"&&L.iterator.return&&(U.method="return",U.arg=s,Y(L,U),U.method==="throw")||W!=="return"&&(U.method="throw",U.arg=new TypeError("The iterator does not provide a '"+W+"' method")),O;var ie=oe(ce,L.iterator,U.arg);if(ie.type==="throw")return U.method="throw",U.arg=ie.arg,U.delegate=null,O;var he=ie.arg;return he?he.done?(U[L.resultName]=he.value,U.next=L.nextLoc,U.method!=="return"&&(U.method="next",U.arg=s),U.delegate=null,O):he:(U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,O)}function ae(L){var U={tryLoc:L[0]};1 in L&&(U.catchLoc=L[1]),2 in L&&(U.finallyLoc=L[2],U.afterLoc=L[3]),this.tryEntries.push(U)}function te(L){var U=L.completion||{};U.type="normal",delete U.arg,L.completion=U}function re(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(ae,this),this.reset(!0)}function fe(L){if(L||L===""){var U=L[S];if(U)return U.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var W=-1,ce=function ie(){for(;++W<L.length;)if(b.call(L,W))return ie.value=L[W],ie.done=!1,ie;return ie.value=s,ie.done=!0,ie};return ce.next=ce}}throw new TypeError(a(L)+" is not iterable")}return N.prototype=T,M(E,"constructor",{value:T,configurable:!0}),M(T,"constructor",{value:N,configurable:!0}),N.displayName=Z(T,G,"GeneratorFunction"),f.isGeneratorFunction=function(L){var U=typeof L=="function"&&L.constructor;return!!U&&(U===N||(U.displayName||U.name)==="GeneratorFunction")},f.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,T):(L.__proto__=T,Z(L,G,"GeneratorFunction")),L.prototype=Object.create(E),L},f.awrap=function(L){return{__await:L}},$(J.prototype),Z(J.prototype,D,(function(){return this})),f.AsyncIterator=J,f.async=function(L,U,W,ce,ie){ie===void 0&&(ie=Promise);var he=new J(K(L,U,W,ce),ie);return f.isGeneratorFunction(U)?he:he.next().then((function(ge){return ge.done?ge.value:he.next()}))},$(E),Z(E,G,"Generator"),Z(E,S,(function(){return this})),Z(E,"toString",(function(){return"[object Generator]"})),f.keys=function(L){var U=Object(L),W=[];for(var ce in U)W.push(ce);return W.reverse(),function ie(){for(;W.length;){var he=W.pop();if(he in U)return ie.value=he,ie.done=!1,ie}return ie.done=!0,ie}},f.values=fe,re.prototype={constructor:re,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(te),!L)for(var U in this)U.charAt(0)==="t"&&b.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=s)},stop:function(){this.done=!0;var L=this.tryEntries[0].completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var U=this;function W(xe,we){return he.type="throw",he.arg=L,U.next=xe,we&&(U.method="next",U.arg=s),!!we}for(var ce=this.tryEntries.length-1;ce>=0;--ce){var ie=this.tryEntries[ce],he=ie.completion;if(ie.tryLoc==="root")return W("end");if(ie.tryLoc<=this.prev){var ge=b.call(ie,"catchLoc"),ye=b.call(ie,"finallyLoc");if(ge&&ye){if(this.prev<ie.catchLoc)return W(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return W(ie.finallyLoc)}else if(ge){if(this.prev<ie.catchLoc)return W(ie.catchLoc,!0)}else{if(!ye)throw new Error("try statement without catch or finally");if(this.prev<ie.finallyLoc)return W(ie.finallyLoc)}}}},abrupt:function(L,U){for(var W=this.tryEntries.length-1;W>=0;--W){var ce=this.tryEntries[W];if(ce.tryLoc<=this.prev&&b.call(ce,"finallyLoc")&&this.prev<ce.finallyLoc){var ie=ce;break}}ie&&(L==="break"||L==="continue")&&ie.tryLoc<=U&&U<=ie.finallyLoc&&(ie=null);var he=ie?ie.completion:{};return he.type=L,he.arg=U,ie?(this.method="next",this.next=ie.finallyLoc,O):this.complete(he)},complete:function(L,U){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&U&&(this.next=U),O},finish:function(L){for(var U=this.tryEntries.length-1;U>=0;--U){var W=this.tryEntries[U];if(W.finallyLoc===L)return this.complete(W.completion,W.afterLoc),te(W),O}},catch:function(L){for(var U=this.tryEntries.length-1;U>=0;--U){var W=this.tryEntries[U];if(W.tryLoc===L){var ce=W.completion;if(ce.type==="throw"){var ie=ce.arg;te(W)}return ie}}throw new Error("illegal catch attempt")},delegateYield:function(L,U,W){return this.delegate={iterator:fe(L),resultName:U,nextLoc:W},this.method==="next"&&(this.arg=s),O}},f}i.exports=u,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(2);i.exports=function(u,s){for(;!Object.prototype.hasOwnProperty.call(u,s)&&(u=a(u))!==null;);return u},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(60);i.exports=function(u){if(Array.isArray(u))return a(u)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(147),u=e(157);i.exports=function(s,f){return a(s,f,(function(g,b){return u(s,b)}))}},function(i,w,e){var a=e(148),u=e(156),s=e(32);i.exports=function(f,g,b){for(var M=-1,C=g.length,S={};++M<C;){var D=g[M],G=a(f,D);b(G,D)&&u(S,s(D,f),G)}return S}},function(i,w,e){var a=e(32),u=e(42);i.exports=function(s,f){for(var g=0,b=(f=a(f,s)).length;s!=null&&g<b;)s=s[u(f[g++])];return g&&g==b?s:void 0}},function(i,w,e){var a=e(16),u=e(41),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;i.exports=function(g,b){if(a(g))return!1;var M=typeof g;return!(M!="number"&&M!="symbol"&&M!="boolean"&&g!=null&&!u(g))||f.test(g)||!s.test(g)||b!=null&&g in Object(b)}},function(i,w,e){var a=e(151),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,f=a((function(g){var b=[];return g.charCodeAt(0)===46&&b.push(""),g.replace(u,(function(M,C,S,D){b.push(S?D.replace(s,"$1"):C||M)})),b}));i.exports=f},function(i,w,e){var a=e(152);i.exports=function(u){var s=a(u,(function(g){return f.size===500&&f.clear(),g})),f=s.cache;return s}},function(i,w,e){var a=e(46);function u(s,f){if(typeof s!="function"||f!=null&&typeof f!="function")throw new TypeError("Expected a function");var g=function(){var b=arguments,M=f?f.apply(this,b):b[0],C=g.cache;if(C.has(M))return C.get(M);var S=s.apply(this,b);return g.cache=C.set(M,S)||C,S};return g.cache=new(u.Cache||a),g}u.Cache=a,i.exports=u},function(i,w,e){var a=e(154);i.exports=function(u){return u==null?"":a(u)}},function(i,w,e){var a=e(27),u=e(155),s=e(16),f=e(41),g=a?a.prototype:void 0,b=g?g.toString:void 0;i.exports=function M(C){if(typeof C=="string")return C;if(s(C))return u(C,M)+"";if(f(C))return b?b.call(C):"";var S=C+"";return S=="0"&&1/C==-1/0?"-0":S}},function(i,w){i.exports=function(e,a){for(var u=-1,s=e==null?0:e.length,f=Array(s);++u<s;)f[u]=a(e[u],u,e);return f}},function(i,w,e){var a=e(54),u=e(32),s=e(31),f=e(15),g=e(42);i.exports=function(b,M,C,S){if(!f(b))return b;for(var D=-1,G=(M=u(M,b)).length,Z=G-1,K=b;K!=null&&++D<G;){var oe=g(M[D]),B=C;if(oe==="__proto__"||oe==="constructor"||oe==="prototype")return b;if(D!=Z){var I=K[oe];(B=S?S(I,oe,K):void 0)===void 0&&(B=f(I)?I:s(M[D+1])?[]:{})}a(K,oe,B),K=K[oe]}return b}},function(i,w,e){var a=e(158),u=e(159);i.exports=function(s,f){return s!=null&&u(s,f,a)}},function(i,w){i.exports=function(e,a){return e!=null&&a in Object(e)}},function(i,w,e){var a=e(32),u=e(30),s=e(16),f=e(31),g=e(39),b=e(42);i.exports=function(M,C,S){for(var D=-1,G=(C=a(C,M)).length,Z=!1;++D<G;){var K=b(C[D]);if(!(Z=M!=null&&S(M,K)))break;M=M[K]}return Z||++D!=G?Z:!!(G=M==null?0:M.length)&&g(G)&&f(K,G)&&(s(M)||u(M))}},function(i,w,e){var a=e(161),u=e(57),s=e(58);i.exports=function(f){return s(u(f,void 0,a),f+"")}},function(i,w,e){var a=e(162);i.exports=function(u){return u!=null&&u.length?a(u,1):[]}},function(i,w,e){var a=e(163),u=e(164);i.exports=function s(f,g,b,M,C){var S=-1,D=f.length;for(b||(b=u),C||(C=[]);++S<D;){var G=f[S];g>0&&b(G)?g>1?s(G,g-1,b,M,C):a(C,G):M||(C[C.length]=G)}return C}},function(i,w){i.exports=function(e,a){for(var u=-1,s=a.length,f=e.length;++u<s;)e[f+u]=a[u];return e}},function(i,w,e){var a=e(27),u=e(30),s=e(16),f=a?a.isConcatSpreadable:void 0;i.exports=function(g){return s(g)||u(g)||!!(f&&g&&g[f])}},function(i,w){i.exports=function(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(40),u=e(167);function s(f,g,b){return u()?(i.exports=s=Reflect.construct.bind(),i.exports.__esModule=!0,i.exports.default=i.exports):(i.exports=s=function(M,C,S){var D=[null];D.push.apply(D,C);var G=new(Function.bind.apply(M,D));return S&&a(G,S.prototype),G},i.exports.__esModule=!0,i.exports.default=i.exports),s.apply(null,arguments)}i.exports=s,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){e.r(w),e.d(w,"BarcodeDecoder",(function(){return Je})),e.d(w,"Readers",(function(){return a})),e.d(w,"CameraAccess",(function(){return Ge})),e.d(w,"ImageDebug",(function(){return G.a})),e.d(w,"ImageWrapper",(function(){return b.a})),e.d(w,"ResultCollector",(function(){return kt}));var a={};e.r(a),e.d(a,"BarcodeReader",(function(){return ee})),e.d(a,"TwoOfFiveReader",(function(){return L})),e.d(a,"NewCodabarReader",(function(){return he})),e.d(a,"Code128Reader",(function(){return ye})),e.d(a,"Code32Reader",(function(){return it})),e.d(a,"Code39Reader",(function(){return qe})),e.d(a,"Code39VINReader",(function(){return Qe})),e.d(a,"Code93Reader",(function(){return lt})),e.d(a,"EAN2Reader",(function(){return gt})),e.d(a,"EAN5Reader",(function(){return yt})),e.d(a,"EAN8Reader",(function(){return mt})),e.d(a,"EANReader",(function(){return Te})),e.d(a,"I2of5Reader",(function(){return xt})),e.d(a,"UPCEReader",(function(){return bt})),e.d(a,"UPCReader",(function(){return wt}));var u=e(13),s=e.n(u),f=e(18),g=e.n(f),b=(e(136),e(11)),M=e(12),C=e.n(M),S=e(8),D=e.n(S),G=e(17),Z=e(3),K=e.n(Z),oe=e(4),B=e.n(oe),I=e(1),A=e.n(I),O=e(7),P=e.n(O),N=e(6),T=e.n(N),X=e(2),j=e.n(X),V=e(0),E=e.n(V),$=e(9),J=(function(h){return h[h.Forward=1]="Forward",h[h.Reverse=-1]="Reverse",h})({}),ee=(function(){function h(x,l){K()(this,h),E()(this,"_row",[]),E()(this,"config",{}),E()(this,"supplements",[]),E()(this,"SINGLE_CODE_ERROR",0),E()(this,"FORMAT","unknown"),E()(this,"CONFIG_KEYS",{}),this._row=[],this.config=x||{},l&&(this.supplements=l)}return B()(h,[{key:"_nextUnset",value:function(x){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=l;t<x.length;t++)if(!x[t])return t;return x.length}},{key:"_matchPattern",value:function(x,l){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.SINGLE_CODE_ERROR||1,r=0,n=0,c=0,p=0,v=0,y=0,_=0,R=0;R<x.length;R++)c+=x[R],p+=l[R];if(c<p)return Number.MAX_VALUE;t*=v=c/p;for(var H=0;H<x.length;H++){if(y=x[H],_=l[H]*v,(n=Math.abs(y-_)/_)>t)return Number.MAX_VALUE;r+=n}return r/p}},{key:"_nextSet",value:function(x){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=l;t<x.length;t++)if(x[t])return t;return x.length}},{key:"_correctBars",value:function(x,l,t){for(var r=t.length,n=0;r--;)(n=x[t[r]]*(1-(1-l)/2))>1&&(x[t[r]]=n)}},{key:"decodePattern",value:function(x){this._row=x;var l=this.decode();return l===null?(this._row.reverse(),(l=this.decode())&&(l.direction=J.Reverse,l.start=this._row.length-l.start,l.end=this._row.length-l.end)):l.direction=J.Forward,l&&(l.format=this.FORMAT),l}},{key:"_matchRange",value:function(x,l,t){var r;for(r=x=x<0?0:x;r<l;r++)if(this._row[r]!==t)return!1;return!0}},{key:"_fillCounters",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,t=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=[],n=0;r[n]=0;for(var c=x;c<l;c++)this._row[c]^(t?1:0)?r[n]++:(r[++n]=1,t=!t);return r}},{key:"_toCounters",value:function(x,l){var t=l.length,r=this._row.length,n=!this._row[x],c=0;$.a.init(l,0);for(var p=x;p<r;p++)if(this._row[p]^(n?1:0))l[c]++;else{if(++c===t)break;l[c]=1,n=!n}return l}},{key:"decodeImage",value:function(x){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),h})();function Y(h){var x=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return T()(this,l)}}var ae=[3,1,3,1,1,1],te=[3,1,1,1,3],re=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],fe=ae.reduce((function(h,x){return h+x}),0),L=(function(h){P()(l,h);var x=Y(l);function l(){var t;K()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"barSpaceRatio",[1,1]),E()(A()(t),"FORMAT","2of5"),E()(A()(t),"SINGLE_CODE_ERROR",.78),E()(A()(t),"AVG_CODE_ERROR",.3),t}return B()(l,[{key:"_findPattern",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],p=[],v=0,y={error:Number.MAX_VALUE,code:-1,start:0,end:0},_=0,R=0,H=this.AVG_CODE_ERROR;r||(r=this._nextSet(this._row));for(var F=0;F<t.length;F++)p[F]=0;for(var Q=r;Q<this._row.length;Q++)if(this._row[Q]^(n?1:0))p[v]++;else{if(v===p.length-1){_=0;for(var ue=0;ue<p.length;ue++)_+=p[ue];if((R=this._matchPattern(p,t))<H)return y.error=R,y.start=Q-_,y.end=Q,y;if(!c)return null;for(var de=0;de<p.length-2;de++)p[de]=p[de+2];p[p.length-2]=0,p[p.length-1]=0,v--}else v++;p[v]=1,n=!n}return null}},{key:"_findStart",value:function(){for(var t=null,r=this._nextSet(this._row),n=1,c=0;!t;){if(!(t=this._findPattern(ae,r,!1,!0)))return null;if(n=Math.floor((t.end-t.start)/fe),(c=t.start-5*n)>=0&&this._matchRange(c,t.start,0))return t;r=t.end,t=null}return t}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start)/2;return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"_findEnd",value:function(){this._row.reverse();var t=this._nextSet(this._row),r=this._findPattern(te,t,!1,!0);if(this._row.reverse(),r===null)return null;var n=r.start;return r.start=this._row.length-r.end,r.end=this._row.length-n,r!==null?this._verifyTrailingWhitespace(r):null}},{key:"_verifyCounterLength",value:function(t){return t.length%10==0}},{key:"_decodeCode",value:function(t){for(var r=this.AVG_CODE_ERROR,n={error:Number.MAX_VALUE,code:-1,start:0,end:0},c=0;c<re.length;c++){var p=this._matchPattern(t,re[c]);p<n.error&&(n.code=c,n.error=p)}return n.error<r?n:null}},{key:"_decodePayload",value:function(t,r,n){for(var c=0,p=t.length,v=[0,0,0,0,0],y=null;c<p;){for(var _=0;_<5;_++)v[_]=t[c]*this.barSpaceRatio[0],c+=2;if(!(y=this._decodeCode(v)))return null;r.push("".concat(y.code)),n.push(y)}return y}},{key:"decode",value:function(t,r){var n=this._findStart();if(!n)return null;var c=this._findEnd();if(!c)return null;var p=this._fillCounters(n.end,c.start,!1);if(!this._verifyCounterLength(p))return null;var v=[];v.push(n);var y=[];return this._decodePayload(p,y,v)?y.length<5?null:(v.push(c),{code:y.join(""),start:n.start,end:c.end,startInfo:n,decodedCodes:v,format:this.FORMAT}):null}}]),l})(ee);function U(h){var x=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return T()(this,l)}}var W=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],ce=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],ie=[26,41,11,14],he=(function(h){P()(l,h);var x=U(l);function l(){var t;K()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"_counters",[]),E()(A()(t),"FORMAT","codabar"),t}return B()(l,[{key:"_computeAlternatingThreshold",value:function(t,r){for(var n=Number.MAX_VALUE,c=0,p=0,v=t;v<r;v+=2)(p=this._counters[v])>c&&(c=p),p<n&&(n=p);return(n+c)/2|0}},{key:"_toPattern",value:function(t){var r=t+7;if(r>this._counters.length)return-1;for(var n=this._computeAlternatingThreshold(t,r),c=this._computeAlternatingThreshold(t+1,r),p=64,v=0,y=0,_=0;_<7;_++)v=(1&_)==0?n:c,this._counters[t+_]>v&&(y|=p),p>>=1;return y}},{key:"_isStartEnd",value:function(t){for(var r=0;r<ie.length;r++)if(ie[r]===t)return!0;return!1}},{key:"_sumCounters",value:function(t,r){for(var n=0,c=t;c<r;c++)n+=this._counters[c];return n}},{key:"_findStart",value:function(){for(var t=this._nextUnset(this._row),r=1;r<this._counters.length;r++){var n=this._toPattern(r);if(n!==-1&&this._isStartEnd(n))return{start:t+=this._sumCounters(0,r),end:t+this._sumCounters(r,r+8),startCounter:r,endCounter:r+8}}return null}},{key:"_patternToChar",value:function(t){for(var r=0;r<ce.length;r++)if(ce[r]===t)return String.fromCharCode(W[r]);return null}},{key:"_calculatePatternLength",value:function(t){for(var r=0,n=t;n<t+7;n++)r+=this._counters[n];return r}},{key:"_verifyWhitespace",value:function(t,r){return(t-1<=0||this._counters[t-1]>=this._calculatePatternLength(t)/2)&&(r+8>=this._counters.length||this._counters[r+7]>=this._calculatePatternLength(r)/2)}},{key:"_charToPattern",value:function(t){for(var r=t.charCodeAt(0),n=0;n<W.length;n++)if(W[n]===r)return ce[n];return 0}},{key:"_thresholdResultPattern",value:function(t,r){for(var n,c={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},p=r,v=0;v<t.length;v++){n=this._charToPattern(t[v]);for(var y=6;y>=0;y--){var _=(1&y)==2?c.bar:c.space,R=(1&n)==1?_.wide:_.narrow;R.size+=this._counters[p+y],R.counts++,n>>=1}p+=8}return["space","bar"].forEach((function(H){var F=c[H];F.wide.min=Math.floor((F.narrow.size/F.narrow.counts+F.wide.size/F.wide.counts)/2),F.narrow.max=Math.ceil(F.wide.min),F.wide.max=Math.ceil((2*F.wide.size+1.5)/F.wide.counts)})),c}},{key:"_validateResult",value:function(t,r){for(var n,c=this._thresholdResultPattern(t,r),p=r,v=0;v<t.length;v++){n=this._charToPattern(t[v]);for(var y=6;y>=0;y--){var _=(1&y)==0?c.bar:c.space,R=(1&n)==1?_.wide:_.narrow,H=this._counters[p+y];if(H<R.min||H>R.max)return!1;n>>=1}p+=8}return!0}},{key:"decode",value:function(t,r){if(this._counters=this._fillCounters(),!(r=this._findStart()))return null;var n,c=r.startCounter,p=[];do{if((n=this._toPattern(c))<0)return null;var v=this._patternToChar(n);if(v===null)return null;if(p.push(v),c+=8,p.length>1&&this._isStartEnd(n))break}while(c<this._counters.length);if(p.length-2<4||!this._isStartEnd(n)||!this._verifyWhitespace(r.startCounter,c-8)||!this._validateResult(p,r.startCounter))return null;c=c>this._counters.length?this._counters.length:c;var y=r.start+this._sumCounters(r.startCounter,c-8);return{code:p.join(""),start:r.start,end:y,startInfo:r,decodedCodes:p,format:this.FORMAT}}}]),l})(ee);function ge(h){var x=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return T()(this,l)}}var ye=(function(h){P()(l,h);var x=ge(l);function l(){var t;K()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"CODE_SHIFT",98),E()(A()(t),"CODE_C",99),E()(A()(t),"CODE_B",100),E()(A()(t),"CODE_A",101),E()(A()(t),"START_CODE_A",103),E()(A()(t),"START_CODE_B",104),E()(A()(t),"START_CODE_C",105),E()(A()(t),"STOP_CODE",106),E()(A()(t),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),E()(A()(t),"SINGLE_CODE_ERROR",.64),E()(A()(t),"AVG_CODE_ERROR",.3),E()(A()(t),"FORMAT","code_128"),E()(A()(t),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),t}return B()(l,[{key:"_decodeCode",value:function(t,r){for(var n={error:Number.MAX_VALUE,code:-1,start:t,end:t,correction:{bar:1,space:1}},c=[0,0,0,0,0,0],p=t,v=!this._row[p],y=0,_=p;_<this._row.length;_++)if(this._row[_]^(v?1:0))c[y]++;else{if(y===c.length-1){r&&this._correct(c,r);for(var R=0;R<this.CODE_PATTERN.length;R++){var H=this._matchPattern(c,this.CODE_PATTERN[R]);H<n.error&&(n.code=R,n.error=H)}return n.end=_,n.code===-1||n.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[n.code]&&(n.correction.bar=this.calculateCorrection(this.CODE_PATTERN[n.code],c,this.MODULE_INDICES.bar),n.correction.space=this.calculateCorrection(this.CODE_PATTERN[n.code],c,this.MODULE_INDICES.space)),n)}c[++y]=1,v=!v}return null}},{key:"_correct",value:function(t,r){this._correctBars(t,r.bar,this.MODULE_INDICES.bar),this._correctBars(t,r.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var t=[0,0,0,0,0,0],r=this._nextSet(this._row),n={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},c=!1,p=0,v=r;v<this._row.length;v++)if(this._row[v]^(c?1:0))t[p]++;else{if(p===t.length-1){for(var y=t.reduce((function(F,Q){return F+Q}),0),_=this.START_CODE_A;_<=this.START_CODE_C;_++){var R=this._matchPattern(t,this.CODE_PATTERN[_]);R<n.error&&(n.code=_,n.error=R)}if(n.error<this.AVG_CODE_ERROR)return n.start=v-y,n.end=v,n.correction.bar=this.calculateCorrection(this.CODE_PATTERN[n.code],t,this.MODULE_INDICES.bar),n.correction.space=this.calculateCorrection(this.CODE_PATTERN[n.code],t,this.MODULE_INDICES.space),n;for(var H=0;H<4;H++)t[H]=t[H+2];t[4]=0,t[5]=0,p--}else p++;t[p]=1,c=!c}return null}},{key:"decode",value:function(t,r){var n=this,c=this._findStart();if(c===null)return null;var p={code:c.code,start:c.start,end:c.end,correction:{bar:c.correction.bar,space:c.correction.space}},v=[];v.push(p);for(var y=p.code,_=(function(le){switch(le){case n.START_CODE_A:return n.CODE_A;case n.START_CODE_B:return n.CODE_B;case n.START_CODE_C:return n.CODE_C;default:return null}})(p.code),R=!1,H=!1,F=H,Q=!0,ue=0,de=[],ve=[];!R;){if(F=H,H=!1,(p=this._decodeCode(p.end,p.correction))!==null)switch(p.code!==this.STOP_CODE&&(Q=!0),p.code!==this.STOP_CODE&&(de.push(p.code),y+=++ue*p.code),v.push(p),_){case this.CODE_A:if(p.code<64)ve.push(String.fromCharCode(32+p.code));else if(p.code<96)ve.push(String.fromCharCode(p.code-64));else switch(p.code!==this.STOP_CODE&&(Q=!1),p.code){case this.CODE_SHIFT:H=!0,_=this.CODE_B;break;case this.CODE_B:_=this.CODE_B;break;case this.CODE_C:_=this.CODE_C;break;case this.STOP_CODE:R=!0}break;case this.CODE_B:if(p.code<96)ve.push(String.fromCharCode(32+p.code));else switch(p.code!==this.STOP_CODE&&(Q=!1),p.code){case this.CODE_SHIFT:H=!0,_=this.CODE_A;break;case this.CODE_A:_=this.CODE_A;break;case this.CODE_C:_=this.CODE_C;break;case this.STOP_CODE:R=!0}break;case this.CODE_C:if(p.code<100)ve.push(p.code<10?"0"+p.code:p.code);else switch(p.code!==this.STOP_CODE&&(Q=!1),p.code){case this.CODE_A:_=this.CODE_A;break;case this.CODE_B:_=this.CODE_B;break;case this.STOP_CODE:R=!0}}else R=!0;F&&(_=_===this.CODE_A?this.CODE_B:this.CODE_A)}return p===null?null:(p.end=this._nextUnset(this._row,p.end),this._verifyTrailingWhitespace(p)?(y-=ue*de[de.length-1])%103!==de[de.length-1]?null:ve.length?(Q&&ve.splice(ve.length-1,1),{code:ve.join(""),start:c.start,end:p.end,codeset:_,startInfo:c,decodedCodes:v,endInfo:p,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(t){var r;return(r=t.end+(t.end-t.start)/2)<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"calculateCorrection",value:function(t,r,n){for(var c=n.length,p=0,v=0;c--;)v+=t[n[c]],p+=r[n[c]];return v/p}}]),l})(ee),xe=e(14),we=e.n(xe),Ee=e(33),Ce=e.n(Ee);function ot(h){var x=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return T()(this,l)}}var Lt=new Uint16Array(Ce()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map((function(h){return h.charCodeAt(0)}))),at=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),qe=(function(h){P()(l,h);var x=ot(l);function l(){var t;K()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","code_39"),t}return B()(l,[{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),r=t,n=new Uint16Array([0,0,0,0,0,0,0,0,0]),c=0,p=!1,v=t;v<this._row.length;v++)if(this._row[v]^(p?1:0))n[c]++;else{if(c===n.length-1){if(this._toPattern(n)===148){var y=Math.floor(Math.max(0,r-(v-r)/4));if(this._matchRange(y,r,0))return{start:r,end:v}}r+=n[0]+n[1];for(var _=0;_<7;_++)n[_]=n[_+2];n[7]=0,n[8]=0,c--}else c++;n[c]=1,p=!p}return null}},{key:"_toPattern",value:function(t){for(var r=t.length,n=0,c=r,p=0;c>3;){n=this._findNextWidth(t,n),c=0;for(var v=0,y=0;y<r;y++)t[y]>n&&(v|=1<<r-1-y,c++,p+=t[y]);if(c===3){for(var _=0;_<r&&c>0;_++)if(t[_]>n&&(c--,2*t[_]>=p))return-1;return v}}return-1}},{key:"_findNextWidth",value:function(t,r){for(var n=Number.MAX_VALUE,c=0;c<t.length;c++)t[c]<n&&t[c]>r&&(n=t[c]);return n}},{key:"_patternToChar",value:function(t){for(var r=0;r<at.length;r++)if(at[r]===t)return String.fromCharCode(Lt[r]);return null}},{key:"_verifyTrailingWhitespace",value:function(t,r,n){var c=$.a.sum(n);return 3*(r-t-c)>=c}},{key:"decode",value:function(){var t=new Uint16Array([0,0,0,0,0,0,0,0,0]),r=[],n=this._findStart();if(!n)return null;var c,p,v=this._nextSet(this._row,n.end);do{t=this._toCounters(v,t);var y=this._toPattern(t);if(y<0||(c=this._patternToChar(y))===null)return null;r.push(c),p=v,v+=$.a.sum(t),v=this._nextSet(this._row,v)}while(c!=="*");return r.pop(),r.length&&this._verifyTrailingWhitespace(p,v,t)?{code:r.join(""),start:n.start,end:v,startInfo:n,decodedCodes:r,format:this.FORMAT}:null}}]),l})(ee);function Ut(h){var x=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return T()(this,l)}}var Nt=/[AEIO]/g,it=(function(h){P()(l,h);var x=Ut(l);function l(){var t;K()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","code_32_reader"),t}return B()(l,[{key:"_decodeCode32",value:function(t){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(t))return null;for(var r=0,n=0;n<t.length;n++)r=32*r+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(t[n]);var c="".concat(r);return c.length<9&&(c=("000000000"+c).slice(-9)),"A"+c}},{key:"_checkChecksum",value:function(t){return!!t}},{key:"decode",value:function(){var t=we()(j()(l.prototype),"decode",this).call(this);if(!t)return null;var r=t.code;if(!r||(r=r.replace(Nt,""),!this._checkChecksum(r)))return null;var n=this._decodeCode32(r);return n?(t.code=n,t):null}}]),l})(qe);function Ft(h){var x=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return T()(this,l)}}var ut=/[IOQ]/g,ct=/[A-Z0-9]{17}/,Qe=(function(h){P()(l,h);var x=Ft(l);function l(){var t;K()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","code_39_vin"),t}return B()(l,[{key:"_checkChecksum",value:function(t){return!!t}},{key:"decode",value:function(){var t=we()(j()(l.prototype),"decode",this).call(this);if(!t)return null;var r=t.code;return r&&(r=r.replace(ut,"")).match(ct)&&this._checkChecksum(r)?(t.code=r,t):null}}]),l})(qe);function st(h){var x=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return T()(this,l)}}var Ye=new Uint16Array(Ce()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map((function(h){return h.charCodeAt(0)}))),ft=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),lt=(function(h){P()(l,h);var x=st(l);function l(){var t;K()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","code_93"),t}return B()(l,[{key:"_patternToChar",value:function(t){for(var r=0;r<ft.length;r++)if(ft[r]===t)return String.fromCharCode(Ye[r]);return null}},{key:"_toPattern",value:function(t){for(var r=t.length,n=t.reduce((function(_,R){return _+R}),0),c=0,p=0;p<r;p++){var v=Math.round(9*t[p]/n);if(v<1||v>4)return-1;if((1&p)==0)for(var y=0;y<v;y++)c=c<<1|1;else c<<=v}return c}},{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),r=t,n=new Uint16Array([0,0,0,0,0,0]),c=0,p=!1,v=t;v<this._row.length;v++)if(this._row[v]^(p?1:0))n[c]++;else{if(c===n.length-1){if(this._toPattern(n)===350){var y=Math.floor(Math.max(0,r-(v-r)/4));if(this._matchRange(y,r,0))return{start:r,end:v}}r+=n[0]+n[1];for(var _=0;_<4;_++)n[_]=n[_+2];n[4]=0,n[5]=0,c--}else c++;n[c]=1,p=!p}return null}},{key:"_verifyEnd",value:function(t,r){return!(t===r||!this._row[r])}},{key:"_decodeExtended",value:function(t){for(var r=t.length,n=[],c=0;c<r;c++){var p=t[c];if(p>="a"&&p<="d"){if(c>r-2)return null;var v=t[++c],y=v.charCodeAt(0),_=void 0;switch(p){case"a":if(!(v>="A"&&v<="Z"))return null;_=String.fromCharCode(y-64);break;case"b":if(v>="A"&&v<="E")_=String.fromCharCode(y-38);else if(v>="F"&&v<="J")_=String.fromCharCode(y-11);else if(v>="K"&&v<="O")_=String.fromCharCode(y+16);else if(v>="P"&&v<="S")_=String.fromCharCode(y+43);else{if(!(v>="T"&&v<="Z"))return null;_=""}break;case"c":if(v>="A"&&v<="O")_=String.fromCharCode(y-32);else{if(v!=="Z")return null;_=":"}break;case"d":if(!(v>="A"&&v<="Z"))return null;_=String.fromCharCode(y+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",_),null}n.push(_)}else n.push(p)}return n}},{key:"_matchCheckChar",value:function(t,r,n){var c=t.slice(0,r),p=c.length,v=c.reduce((function(y,_,R){return y+((-1*R+(p-1))%n+1)*Ye.indexOf(_.charCodeAt(0))}),0);return Ye[v%47]===t[r].charCodeAt(0)}},{key:"_verifyChecksums",value:function(t){return this._matchCheckChar(t,t.length-2,20)&&this._matchCheckChar(t,t.length-1,15)}},{key:"decode",value:function(t,r){if(!(r=this._findStart()))return null;var n,c,p=new Uint16Array([0,0,0,0,0,0]),v=[],y=this._nextSet(this._row,r.end);do{p=this._toCounters(y,p);var _=this._toPattern(p);if(_<0||(c=this._patternToChar(_))===null)return null;v.push(c),n=y,y+=$.a.sum(p),y=this._nextSet(this._row,y)}while(c!=="*");return v.pop(),v.length&&this._verifyEnd(n,y)&&this._verifyChecksums(v)?(v=v.slice(0,v.length-2),(v=this._decodeExtended(v))===null?null:{code:v.join(""),start:r.start,end:y,startInfo:r,decodedCodes:v,format:this.FORMAT}):null}}]),l})(ee);function dt(h,x){var l=Object.keys(h);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(h);x&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(h,r).enumerable}))),l.push.apply(l,t)}return l}function Ze(h){for(var x=1;x<arguments.length;x++){var l=arguments[x]!=null?arguments[x]:{};x%2?dt(Object(l),!0).forEach((function(t){E()(h,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(l)):dt(Object(l)).forEach((function(t){Object.defineProperty(h,t,Object.getOwnPropertyDescriptor(l,t))}))}return h}function Bt(h){var x=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return T()(this,l)}}var Wt=[1,1,1],ht=[1,1,1,1,1],qt=[1,1,2],pt=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],vt=[0,11,13,14,19,25,28,21,22,26],Te=(function(h){P()(l,h);var x=Bt(l);function l(t,r){var n;return K()(this,l),n=x.call(this,g()({supplements:[]},t),r),E()(A()(n),"FORMAT","ean_13"),E()(A()(n),"SINGLE_CODE_ERROR",.7),E()(A()(n),"STOP_PATTERN",[1,1,1]),n}return B()(l,[{key:"_findPattern",value:function(t,r,n,c){var p=new Array(t.length).fill(0),v={error:Number.MAX_VALUE,start:0,end:0},y=0;r||(r=this._nextSet(this._row));for(var _=!1,R=r;R<this._row.length;R++)if(this._row[R]^(n?1:0))p[y]+=1;else{if(y===p.length-1){var H=this._matchPattern(p,t);if(H<.48&&v.error&&H<v.error)return _=!0,v.error=H,v.start=R-p.reduce((function(Q,ue){return Q+ue}),0),v.end=R,v;if(c){for(var F=0;F<p.length-2;F++)p[F]=p[F+2];p[p.length-2]=0,p[p.length-1]=0,y--}}else y++;p[y]=1,n=!n}return _?v:null}},{key:"_decodeCode",value:function(t,r){var n=[0,0,0,0],c=t,p={error:Number.MAX_VALUE,code:-1,start:t,end:t},v=!this._row[c],y=0;r||(r=pt.length);for(var _=c;_<this._row.length;_++)if(this._row[_]^(v?1:0))n[y]++;else{if(y===n.length-1){for(var R=0;R<r;R++){var H=this._matchPattern(n,pt[R]);p.end=_,H<p.error&&(p.code=R,p.error=H)}return p.error>.48?null:p}n[++y]=1,v=!v}return null}},{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),r=null;!r;){if(!(r=this._findPattern(Wt,t,!1,!0)))return null;var n=r.start-(r.end-r.start);if(n>=0&&this._matchRange(n,r.start,0))return r;t=r.end,r=null}return null}},{key:"_calculateFirstDigit",value:function(t){for(var r=0;r<vt.length;r++)if(t===vt[r])return r;return null}},{key:"_decodePayload",value:function(t,r,n){for(var c=Ze({},t),p=0,v=0;v<6;v++){if(!(c=this._decodeCode(c.end)))return null;c.code>=10?(c.code-=10,p|=1<<5-v):p|=0<<5-v,r.push(c.code),n.push(c)}var y=this._calculateFirstDigit(p);if(y===null)return null;r.unshift(y);var _=this._findPattern(ht,c.end,!0,!1);if(_===null||!_.end)return null;n.push(_);for(var R=0;R<6;R++){if(!(_=this._decodeCode(_.end,10)))return null;n.push(_),r.push(_.code)}return _}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start);return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"_findEnd",value:function(t,r){var n=this._findPattern(this.STOP_PATTERN,t,r,!1);return n!==null?this._verifyTrailingWhitespace(n):null}},{key:"_checksum",value:function(t){for(var r=0,n=t.length-2;n>=0;n-=2)r+=t[n];r*=3;for(var c=t.length-1;c>=0;c-=2)r+=t[c];return r%10==0}},{key:"_decodeExtensions",value:function(t){var r=this._nextSet(this._row,t),n=this._findPattern(qt,r,!1,!1);if(n===null)return null;for(var c=0;c<this.supplements.length;c++)try{var p=this.supplements[c].decode(this._row,n.end);if(p!==null)return{code:p.code,start:r,startInfo:n,end:p.end,decodedCodes:p.decodedCodes,format:this.supplements[c].FORMAT}}catch(v){console.error("* decodeExtensions error in ",this.supplements[c],": ",v)}return null}},{key:"decode",value:function(t,r){var n=new Array,c=new Array,p={},v=this._findStart();if(!v)return null;var y={start:v.start,end:v.end};if(c.push(y),!(y=this._decodePayload(y,n,c))||!(y=this._findEnd(y.end,!1))||(c.push(y),!this._checksum(n)))return null;if(this.supplements.length>0){var _=this._decodeExtensions(y.end);if(!_||!_.decodedCodes)return null;var R=_.decodedCodes[_.decodedCodes.length-1],H={start:R.start+((R.end-R.start)/2|0),end:R.end};if(!this._verifyTrailingWhitespace(H))return null;p={supplement:_,code:n.join("")+_.code}}return Ze(Ze({code:n.join(""),start:v.start,end:y.end,startInfo:v,decodedCodes:c},p),{},{format:this.FORMAT})}}]),l})(ee);function Vt(h){var x=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return T()(this,l)}}var gt=(function(h){P()(l,h);var x=Vt(l);function l(){var t;K()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","ean_2"),t}return B()(l,[{key:"decode",value:function(t,r){t&&(this._row=t);var n=0,c=r,p=this._row.length,v=[],y=[],_=null;if(c===void 0)return null;for(var R=0;R<2&&c<p;R++){if(!(_=this._decodeCode(c)))return null;y.push(_),v.push(_.code%10),_.code>=10&&(n|=1<<1-R),R!==1&&(c=this._nextSet(this._row,_.end),c=this._nextUnset(this._row,c))}if(v.length!==2||parseInt(v.join(""))%4!==n)return null;var H=this._findStart();return{code:v.join(""),decodedCodes:y,end:_.end,format:this.FORMAT,startInfo:H,start:H.start}}}]),l})(Te);function Gt(h){var x=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return T()(this,l)}}var $t=[24,20,18,17,12,6,3,10,9,5],yt=(function(h){P()(l,h);var x=Gt(l);function l(){var t;K()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","ean_5"),t}return B()(l,[{key:"decode",value:function(t,r){if(r===void 0)return null;t&&(this._row=t);for(var n=0,c=r,p=this._row.length,v=null,y=[],_=[],R=0;R<5&&c<p;R++){if(!(v=this._decodeCode(c)))return null;_.push(v),y.push(v.code%10),v.code>=10&&(n|=1<<4-R),R!==4&&(c=this._nextSet(this._row,v.end),c=this._nextUnset(this._row,c))}if(y.length!==5||(function(F){for(var Q=F.length,ue=0,de=Q-2;de>=0;de-=2)ue+=F[de];ue*=3;for(var ve=Q-1;ve>=0;ve-=2)ue+=F[ve];return(ue*=3)%10})(y)!==(function(F){for(var Q=0;Q<10;Q++)if(F===$t[Q])return Q;return null})(n))return null;var H=this._findStart();return{code:y.join(""),decodedCodes:_,end:v.end,format:this.FORMAT,startInfo:H,start:H.start}}}]),l})(Te);function je(h){var x=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return T()(this,l)}}var mt=(function(h){P()(l,h);var x=je(l);function l(){var t;K()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","ean_8"),t}return B()(l,[{key:"_decodePayload",value:function(t,r,n){for(var c=t,p=0;p<4;p++){if(!(c=this._decodeCode(c.end,10)))return null;r.push(c.code),n.push(c)}if((c=this._findPattern(ht,c.end,!0,!1))===null)return null;n.push(c);for(var v=0;v<4;v++){if(!(c=this._decodeCode(c.end,10)))return null;n.push(c),r.push(c.code)}return c}}]),l})(Te);function Ht(h){var x=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return T()(this,l)}}var xt=(function(h){P()(l,h);var x=Ht(l);function l(t){var r;return K()(this,l),r=x.call(this,g()({normalizeBarSpaceWidth:!1},t)),E()(A()(r),"barSpaceRatio",[1,1]),E()(A()(r),"SINGLE_CODE_ERROR",.78),E()(A()(r),"AVG_CODE_ERROR",.38),E()(A()(r),"START_PATTERN",[1,1,1,1]),E()(A()(r),"STOP_PATTERN",[1,1,3]),E()(A()(r),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),E()(A()(r),"MAX_CORRECTION_FACTOR",5),E()(A()(r),"FORMAT","i2of5"),t.normalizeBarSpaceWidth&&(r.SINGLE_CODE_ERROR=.38,r.AVG_CODE_ERROR=.09),r.config=t,T()(r,A()(r))}return B()(l,[{key:"_matchPattern",value:function(t,r){if(this.config.normalizeBarSpaceWidth){for(var n=[0,0],c=[0,0],p=[0,0],v=this.MAX_CORRECTION_FACTOR,y=1/v,_=0;_<t.length;_++)n[_%2]+=t[_],c[_%2]+=r[_];p[0]=c[0]/n[0],p[1]=c[1]/n[1],p[0]=Math.max(Math.min(p[0],v),y),p[1]=Math.max(Math.min(p[1],v),y),this.barSpaceRatio=p;for(var R=0;R<t.length;R++)t[R]*=this.barSpaceRatio[R%2]}return we()(j()(l.prototype),"_matchPattern",this).call(this,t,r)}},{key:"_findPattern",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],p=new Array(t.length).fill(0),v=0,y={error:Number.MAX_VALUE,start:0,end:0},_=this.AVG_CODE_ERROR;n=n||!1,c=c||!1,r||(r=this._nextSet(this._row));for(var R=r;R<this._row.length;R++)if(this._row[R]^(n?1:0))p[v]++;else{if(v===p.length-1){var H=p.reduce((function(ue,de){return ue+de}),0),F=this._matchPattern(p,t);if(F<_)return y.error=F,y.start=R-H,y.end=R,y;if(!c)return null;for(var Q=0;Q<p.length-2;Q++)p[Q]=p[Q+2];p[p.length-2]=0,p[p.length-1]=0,v--}else v++;p[v]=1,n=!n}return null}},{key:"_findStart",value:function(){for(var t=0,r=this._nextSet(this._row),n=null,c=1;!n;){if(!(n=this._findPattern(this.START_PATTERN,r,!1,!0)))return null;if(c=Math.floor((n.end-n.start)/4),(t=n.start-10*c)>=0&&this._matchRange(t,n.start,0))return n;r=n.end,n=null}return null}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start)/2;return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"_findEnd",value:function(){this._row.reverse();var t=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),t===null)return null;var r=t.start;return t.start=this._row.length-t.end,t.end=this._row.length-r,t!==null?this._verifyTrailingWhitespace(t):null}},{key:"_decodePair",value:function(t){for(var r=[],n=0;n<t.length;n++){var c=this._decodeCode(t[n]);if(!c)return null;r.push(c)}return r}},{key:"_decodeCode",value:function(t){for(var r=this.AVG_CODE_ERROR,n={error:Number.MAX_VALUE,code:-1,start:0,end:0},c=0;c<this.CODE_PATTERN.length;c++){var p=this._matchPattern(t,this.CODE_PATTERN[c]);p<n.error&&(n.code=c,n.error=p)}return n.error<r?n:null}},{key:"_decodePayload",value:function(t,r,n){for(var c=0,p=t.length,v=[[0,0,0,0,0],[0,0,0,0,0]],y=null;c<p;){for(var _=0;_<5;_++)v[0][_]=t[c]*this.barSpaceRatio[0],v[1][_]=t[c+1]*this.barSpaceRatio[1],c+=2;if(!(y=this._decodePair(v)))return null;for(var R=0;R<y.length;R++)r.push(y[R].code+""),n.push(y[R])}return y}},{key:"_verifyCounterLength",value:function(t){return t.length%10==0}},{key:"decode",value:function(t,r){var n=new Array,c=new Array,p=this._findStart();if(!p)return null;c.push(p);var v=this._findEnd();if(!v)return null;var y=this._fillCounters(p.end,v.start,!1);return this._verifyCounterLength(y)&&this._decodePayload(y,n,c)?n.length%2!=0||n.length<6?null:(c.push(v),{code:n.join(""),start:p.start,end:v.end,startInfo:p,decodedCodes:c,format:this.FORMAT}):null}}]),l})(ee);function _t(h,x){var l=Object.keys(h);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(h);x&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(h,r).enumerable}))),l.push.apply(l,t)}return l}function Xt(h){var x=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return T()(this,l)}}var bt=(function(h){P()(l,h);var x=Xt(l);function l(){var t;K()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),E()(A()(t),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),E()(A()(t),"FORMAT","upc_e"),t}return B()(l,[{key:"_decodePayload",value:function(t,r,n){for(var c=(function(y){for(var _=1;_<arguments.length;_++){var R=arguments[_]!=null?arguments[_]:{};_%2?_t(Object(R),!0).forEach((function(H){E()(y,H,R[H])})):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(R)):_t(Object(R)).forEach((function(H){Object.defineProperty(y,H,Object.getOwnPropertyDescriptor(R,H))}))}return y})({},t),p=0,v=0;v<6;v++){if(!(c=this._decodeCode(c.end)))return null;c.code>=10&&(c.code=c.code-10,p|=1<<5-v),r.push(c.code),n.push(c)}return this._determineParity(p,r)?c:null}},{key:"_determineParity",value:function(t,r){for(var n=0;n<this.CODE_FREQUENCY.length;n++)for(var c=0;c<this.CODE_FREQUENCY[n].length;c++)if(t===this.CODE_FREQUENCY[n][c])return r.unshift(n),r.push(c),!0;return!1}},{key:"_convertToUPCA",value:function(t){var r=[t[0]],n=t[t.length-2];return(r=n<=2?r.concat(t.slice(1,3)).concat([n,0,0,0,0]).concat(t.slice(3,6)):n===3?r.concat(t.slice(1,4)).concat([0,0,0,0,0]).concat(t.slice(4,6)):n===4?r.concat(t.slice(1,5)).concat([0,0,0,0,0,t[5]]):r.concat(t.slice(1,6)).concat([0,0,0,0,n])).push(t[t.length-1]),r}},{key:"_checksum",value:function(t){return we()(j()(l.prototype),"_checksum",this).call(this,this._convertToUPCA(t))}},{key:"_findEnd",value:function(t,r){return we()(j()(l.prototype),"_findEnd",this).call(this,t,!0)}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start)/2;return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}}]),l})(Te);function Qt(h){var x=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return T()(this,l)}}var wt=(function(h){P()(l,h);var x=Qt(l);function l(){var t;K()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","upc_a"),t}return B()(l,[{key:"decode",value:function(t,r){var n=Te.prototype.decode.call(this);return n&&n.code&&n.code.length===13&&n.code.charAt(0)==="0"?(n.code=n.code.substring(1),n):null}}]),l})(Te),Ue={},Ve={UP:1,DOWN:-1};Ue.getBarcodeLine=function(h,x,l){var t,r,n,c,p,v=0|x.x,y=0|x.y,_=0|l.x,R=0|l.y,H=Math.abs(R-y)>Math.abs(_-v),F=[],Q=h.data,ue=h.size.x,de=255,ve=0;function le(We,yr){p=Q[yr*ue+We],de=p<de?p:de,ve=p>ve?p:ve,F.push(p)}H&&(n=v,v=y,y=n,n=_,_=R,R=n),v>_&&(n=v,v=_,_=n,n=y,y=R,R=n);var me=_-v,be=Math.abs(R-y);t=me/2|0,r=y;var Se=y<R?1:-1;for(c=v;c<_;c++)H?le(r,c):le(c,r),(t-=be)<0&&(r+=Se,t+=me);return{line:F,min:de,max:ve}},Ue.toBinaryLine=function(h){var x,l,t,r,n,c,p=h.min,v=h.max,y=h.line,_=p+(v-p)/2,R=[],H=(v-p)/12,F=-H;for(t=y[0]>_?Ve.UP:Ve.DOWN,R.push({pos:0,val:y[0]}),n=0;n<y.length-2;n++)t!==(r=(x=y[n+1]-y[n])+(l=y[n+2]-y[n+1])<F&&y[n+1]<1.5*_?Ve.DOWN:x+l>H&&y[n+1]>.5*_?Ve.UP:t)&&(R.push({pos:n,val:y[n]}),t=r);for(R.push({pos:y.length,val:y[y.length-1]}),c=R[0].pos;c<R[1].pos;c++)y[c]=y[c]>_?0:1;for(n=1;n<R.length-1;n++)for(H=R[n+1].val>R[n].val?R[n].val+(R[n+1].val-R[n].val)/3*2|0:R[n+1].val+(R[n].val-R[n+1].val)/3|0,c=R[n].pos;c<R[n+1].pos;c++)y[c]=y[c]>H?0:1;return{line:y,threshold:H}},Ue.debug={printFrequency:function(h,x){var l,t=x.getContext("2d");for(x.width=h.length,x.height=256,t.beginPath(),t.strokeStyle="blue",l=0;l<h.length;l++)t.moveTo(l,255),t.lineTo(l,255-h[l]);t.stroke(),t.closePath()},printPattern:function(h,x){var l,t=x.getContext("2d");for(x.width=h.length,t.fillColor="black",l=0;l<h.length;l++)h[l]===1&&t.fillRect(l,0,1,100)}};var Ke=Ue;function Yt(h,x){var l=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!l){if(Array.isArray(h)||(l=(function(v,y){if(v){if(typeof v=="string")return Ot(v,y);var _=Object.prototype.toString.call(v).slice(8,-1);if(_==="Object"&&v.constructor&&(_=v.constructor.name),_==="Map"||_==="Set")return Array.from(v);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Ot(v,y)}})(h))||x){l&&(h=l);var t=0,r=function(){};return{s:r,n:function(){return t>=h.length?{done:!0}:{done:!1,value:h[t++]}},e:function(v){throw v},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,c=!0,p=!1;return{s:function(){l=l.call(h)},n:function(){var v=l.next();return c=v.done,v},e:function(v){p=!0,n=v},f:function(){try{c||l.return==null||l.return()}finally{if(p)throw n}}}}function Ot(h,x){(x==null||x>h.length)&&(x=h.length);for(var l=0,t=new Array(x);l<x;l++)t[l]=h[l];return t}var Ne={code_128_reader:ye,ean_reader:Te,ean_5_reader:yt,ean_2_reader:gt,ean_8_reader:mt,code_39_reader:qe,code_39_vin_reader:Qe,codabar_reader:he,upc_reader:wt,upc_e_reader:bt,i2of5_reader:xt,"2of5_reader":L,code_93_reader:lt,code_32_reader:it},Je={registerReader:function(h,x){Ne[h]=x},create:function(h,x){var l=[];function t(){h.readers.forEach((function(v){var y,_={},R=[];s()(v)==="object"?(y=v.format,_=v.config):typeof v=="string"&&(y=v),_.supplements&&(R=_.supplements.map((function(F){return new Ne[F]})));try{var H=new Ne[y](_,R);l.push(H)}catch(F){throw console.error("* Error constructing reader ",y,F),F}}))}function r(v){var y,_=null,R=Ke.getBarcodeLine(x,v[0],v[1]);for(Ke.toBinaryLine(R),y=0;y<l.length&&_===null;y++)_=l[y].decodePattern(R.line);return _===null?null:{codeResult:_,barcodeLine:R}}function n(v){return c.apply(this,arguments)}function c(){return(c=C()(D.a.mark((function v(y){var _,R,H,F;return D.a.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:_=null,R=Yt(l),Q.prev=2,R.s();case 4:if((H=R.n()).done){Q.next=14;break}if(!(F=H.value).decodeImage){Q.next=12;break}return Q.next=9,F.decodeImage(y);case 9:if(!(_=Q.sent)){Q.next=12;break}return Q.abrupt("break",14);case 12:Q.next=4;break;case 14:Q.next=19;break;case 16:Q.prev=16,Q.t0=Q.catch(2),R.e(Q.t0);case 19:return Q.prev=19,R.f(),Q.finish(19);case 22:return Q.abrupt("return",_);case 23:case"end":return Q.stop()}}),v,null,[[2,16,19,22]])})))).apply(this,arguments)}function p(v){var y,_,R=(function(F){return Math.sqrt(Math.pow(Math.abs(F[1].y-F[0].y),2)+Math.pow(Math.abs(F[1].x-F[0].x),2))})(y=(function(F){return[{x:(F[1][0]-F[0][0])/2+F[0][0],y:(F[1][1]-F[0][1])/2+F[0][1]},{x:(F[3][0]-F[2][0])/2+F[2][0],y:(F[3][1]-F[2][1])/2+F[2][1]}]})(v)),H=Math.atan2(y[1].y-y[0].y,y[1].x-y[0].x);return(y=(function(F,Q,ue){function de(ve){var le=ve*Math.sin(Q),me=ve*Math.cos(Q);F[0].y-=le,F[0].x-=me,F[1].y+=le,F[1].x+=me}for(de(ue);ue>1&&(!x.inImageWithBorder(F[0])||!x.inImageWithBorder(F[1]));)de(-(ue-=Math.ceil(ue/2)));return F})(y,H,Math.floor(.1*R)))===null?null:((_=r(y))===null&&(_=(function(F,Q,ue){var de,ve,le,me=Math.sqrt(Math.pow(F[1][0]-F[0][0],2)+Math.pow(F[1][1]-F[0][1],2)),be=null,Se=Math.sin(ue),We=Math.cos(ue);for(de=1;de<16&&be===null;de++)le={y:(ve=me/16*de*(de%2==0?-1:1))*Se,x:ve*We},Q[0].y+=le.x,Q[0].x-=le.y,Q[1].y+=le.x,Q[1].x-=le.y,be=r(Q);return be})(v,y,H)),_===null?null:{codeResult:_.codeResult,line:y,angle:H,pattern:_.barcodeLine.line,threshold:_.barcodeLine.threshold})}return t(),{decodeFromBoundingBox:function(v){return p(v)},decodeFromBoundingBoxes:function(v){var y,_,R=[],H=h.multiple;for(y=0;y<v.length;y++){var F=v[y];if((_=p(F)||{}).box=F,H)R.push(_);else if(_.codeResult)return _}return{barcodes:R}},decodeFromImage:function(v){return C()(D.a.mark((function y(){var _;return D.a.wrap((function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,n(v);case 2:return _=R.sent,R.abrupt("return",_);case 4:case"end":return R.stop()}}),y)})))()},registerReader:function(v,y){if(Ne[v])throw new Error("cannot register existing reader",v);Ne[v]=y},setReaders:function(v){h.readers=v,l.length=0,t()}}}},De=(function(){var h={};function x(r){return h[r]||(h[r]={subscribers:[]}),h[r]}function l(r,n){r.async?setTimeout((function(){r.callback(n)}),4):r.callback(n)}function t(r,n,c){var p;if(typeof n=="function")p={callback:n,async:c};else if(!(p=n).callback)throw new Error("Callback was not specified on options");x(r).subscribers.push(p)}return{subscribe:function(r,n,c){return t(r,n,c)},publish:function(r,n){var c=x(r),p=c.subscribers;p.filter((function(v){return!!v.once})).forEach((function(v){l(v,n)})),c.subscribers=p.filter((function(v){return!v.once})),c.subscribers.forEach((function(v){l(v,n)}))},once:function(r,n){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];t(r,{callback:n,async:c,once:!0})},unsubscribe:function(r,n){if(r){var c=x(r);c.subscribers=c&&n?c.subscribers.filter((function(p){return p.callback!==n})):[]}else h={}}}})(),Rt=e(63),Mt=e.n(Rt),Zt=e(64);function Kt(h){var x=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return T()(this,l)}}var ze,et=(function(h){P()(l,h);var x=Kt(l);function l(t,r){var n;return K()(this,l),n=x.call(this,t),E()(A()(n),"code",void 0),n.code=r,Object.setPrototypeOf(A()(n),l.prototype),n}return B()(l)})(e.n(Zt)()(Error)),Ct="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function Jt(){try{return navigator.mediaDevices.enumerateDevices()}catch{var h=new et("enumerateDevices is not defined. ".concat(Ct),-1);return Promise.reject(h)}}function er(h){try{return navigator.mediaDevices.getUserMedia(h)}catch{var x=new et("getUserMedia is not defined. ".concat(Ct),-1);return Promise.reject(x)}}function Et(h){return new Promise((function(x,l){var t=10;(function r(){t>0?h.videoWidth>10&&h.videoHeight>10?x():window.setTimeout(r,500):l(new et("Unable to play video stream. Is webcam working?",-1)),t--})()}))}function At(h,x){return tt.apply(this,arguments)}function tt(){return(tt=C()(D.a.mark((function h(x,l){var t;return D.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,er(l);case 2:if(t=r.sent,ze=t,!x){r.next=11;break}return x.setAttribute("autoplay","true"),x.setAttribute("muted","true"),x.setAttribute("playsinline","true"),x.srcObject=t,x.addEventListener("loadedmetadata",(function(){x.play().catch((function(n){console.warn("* Error while trying to play video stream:",n)}))})),r.abrupt("return",Et(x));case 11:return r.abrupt("return",Promise.resolve());case 12:case"end":return r.stop()}}),h)})))).apply(this,arguments)}function tr(h){var x=Mt()(h,["width","height","facingMode","aspectRatio","deviceId"]);return h.minAspectRatio!==void 0&&h.minAspectRatio>0&&(x.aspectRatio=h.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),h.facing!==void 0&&(x.facingMode=h.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),x}function rr(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=tr(h);return x&&x.deviceId&&x.facingMode&&delete x.facingMode,Promise.resolve({audio:!1,video:x})}function St(){return(St=C()(D.a.mark((function h(){var x;return D.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Jt();case 2:return x=l.sent,l.abrupt("return",x.filter((function(t){return t.kind==="videoinput"})));case 4:case"end":return l.stop()}}),h)})))).apply(this,arguments)}function Fe(){if(!ze)return null;var h=ze.getVideoTracks();return h&&h!=null&&h.length?h[0]:null}var Be={requestedVideoElement:null,request:function(h,x){return C()(D.a.mark((function l(){var t;return D.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return Be.requestedVideoElement=h,r.next=3,rr(x);case 3:return t=r.sent,r.abrupt("return",At(h,t));case 5:case"end":return r.stop()}}),l)})))()},release:function(){var h=ze&&ze.getVideoTracks();return Be.requestedVideoElement!==null&&Be.requestedVideoElement.pause(),new Promise((function(x){setTimeout((function(){h&&h.length&&h.forEach((function(l){return l.stop()})),ze=null,Be.requestedVideoElement=null,x()}),0)}))},enumerateVideoDevices:function(){return St.apply(this,arguments)},getActiveStreamLabel:function(){var h=Fe();return h?h.label:""},getActiveTrack:Fe,disableTorch:function(){return C()(D.a.mark((function h(){var x;return D.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(!(x=Fe())){l.next=11;break}return l.prev=2,l.next=5,x.applyConstraints({advanced:[{torch:!1}]});case 5:l.next=11;break;case 7:throw l.prev=7,l.t0=l.catch(2),l.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),l.t0;case 11:case"end":return l.stop()}}),h,null,[[2,7]])})))()},enableTorch:function(){return C()(D.a.mark((function h(){var x;return D.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(!(x=Fe())){l.next=11;break}return l.prev=2,l.next=5,x.applyConstraints({advanced:[{torch:!0}]});case 5:l.next=11;break;case 7:throw l.prev=7,l.t0=l.catch(2),l.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),l.t0;case 11:case"end":return l.stop()}}),h,null,[[2,7]])})))()}},Ge=Be,kt={create:function(h){var x,l=document.createElement("canvas"),t=l.getContext("2d",{willReadFrequently:!!h.willReadFrequently}),r=[],n=(x=h.capacity)!==null&&x!==void 0?x:20,c=h.capture===!0;function p(v){return!!n&&v&&!(function(y,_){return _&&_.some((function(R){return Object.keys(R).every((function(H){return R[H]===y[H]}))}))})(v,h.blacklist)&&(function(y,_){return typeof _!="function"||_(y)})(v,h.filter)}return{addResult:function(v,y,_){var R={};p(_)&&(n--,R.codeResult=_,c&&(l.width=y.x,l.height=y.y,G.a.drawImage(v,y,t),R.frame=l.toDataURL()),r.push(R))},getResults:function(){return r}}}},nr={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Ae=e(5),$e=e(10),Pt=Math.PI/180,or={create:function(h,x){var l,t={},r=h.getConfig(),n=(Object($e.h)(h.getRealWidth(),h.getRealHeight()),h.getCanvasSize()),c=Object($e.h)(h.getWidth(),h.getHeight()),p=h.getTopRight(),v=p.x,y=p.y,_=null,R=null,H=r.willReadFrequently;return(l=x||document.createElement("canvas")).width=n.x,l.height=n.y,console.warn("*** frame_grabber_browser: willReadFrequently=",H,"canvas=",l),_=l.getContext("2d",{willReadFrequently:!!H}),R=new Uint8Array(c.x*c.y),t.attachData=function(F){R=F},t.getData=function(){return R},t.grab=function(){var F,Q=r.halfSample,ue=h.getFrame(),de=ue,ve=0;if(de){if((function(le,me){le.width!==me.x&&(le.width=me.x),le.height!==me.y&&(le.height=me.y)})(l,n),r.type==="ImageStream"&&(de=ue.img,ue.tags&&ue.tags.orientation))switch(ue.tags.orientation){case 6:ve=90*Pt;break;case 8:ve=-90*Pt}return ve!==0?(_.translate(n.x/2,n.y/2),_.rotate(ve),_.drawImage(de,-n.y/2,-n.x/2,n.y,n.x),_.rotate(-ve),_.translate(-n.x/2,-n.y/2)):_.drawImage(de,0,0,n.x,n.y),F=_.getImageData(v,y,c.x,c.y).data,Q?Object($e.e)(F,c,R):Object($e.c)(F,R,r),!0}return!1},t.getSize=function(){return c},t}},ar=or,He={274:"orientation"},Tt=Object.keys(He).map((function(h){return He[h]}));function ir(h){return new Promise((function(x){var l=new FileReader;l.onload=function(t){return x(t.target.result)},l.readAsArrayBuffer(h)}))}function ur(h){return new Promise((function(x,l){var t=new XMLHttpRequest;t.open("GET",h,!0),t.responseType="blob",t.onreadystatechange=function(){t.readyState!==XMLHttpRequest.DONE||t.status!==200&&t.status!==0||x(this.response)},t.onerror=l,t.send()}))}function cr(h){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tt,l=new DataView(h),t=h.byteLength,r=x.reduce((function(c,p){var v=Object.keys(He).filter((function(y){return He[y]===p}))[0];return v&&(c[v]=p),c}),{}),n=2;if(l.getUint8(0)!==255||l.getUint8(1)!==216)return!1;for(;n<t;){if(l.getUint8(n)!==255)return!1;if(l.getUint8(n+1)===225)return sr(l,n+4,r);n+=2+l.getUint16(n+2)}return!1}function sr(h,x,l){if((function(c,p,v){for(var y="",_=p;_<p+v;_++)y+=String.fromCharCode(c.getUint8(_));return y})(h,x,4)!=="Exif")return!1;var t,r=x+6;if(h.getUint16(r)===18761)t=!1;else{if(h.getUint16(r)!==19789)return!1;t=!0}if(h.getUint16(r+2,!t)!==42)return!1;var n=h.getUint32(r+4,!t);return!(n<8)&&(function(c,p,v,y,_){for(var R=c.getUint16(v,!_),H={},F=0;F<R;F++){var Q=v+12*F+2,ue=y[c.getUint16(Q,!_)];ue&&(H[ue]=fr(c,Q,p,v,_))}return H})(h,r,r+n,l,t)}function fr(h,x,l,t,r){var n=h.getUint16(x+2,!r),c=h.getUint32(x+4,!r);switch(n){case 3:if(c===1)return h.getUint16(x+8,!r)}return null}var Dt={};function lr(h,x){h.onload=function(){x.loaded(this)}}Dt.load=function(h,x,l,t,r){var n,c,p,v=new Array(t),y=new Array(v.length);if(r===!1)v[0]=h;else for(n=0;n<v.length;n++)p=l+n,v[n]="".concat(h,"image-").concat("00".concat(p).slice(-3),".jpg");for(y.notLoaded=[],y.addImage=function(_){y.notLoaded.push(_)},y.loaded=function(_){for(var R=y.notLoaded,H=0;H<R.length;H++)if(R[H]===_){R.splice(H,1);for(var F=0;F<v.length;F++){var Q=v[F].substr(v[F].lastIndexOf("/"));if(_.src.lastIndexOf(Q)!==-1){y[F]={img:_};break}}break}R.length===0&&(r===!1?(function(ue){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tt;return/^blob:/i.test(ue)?ur(ue).then(ir).then((function(ve){return cr(ve,de)})):Promise.resolve(null)})(h,["orientation"]).then((function(ue){y[0].tags=ue,x(y)})).catch((function(ue){console.log(ue),x(y)})):x(y))},n=0;n<v.length;n++)c=new Image,y.addImage(c),lr(c,y),c.src=v[n]};var dr=Dt,jt={createVideoStream:function(h){console.warn("**** InputStreamBrowser createVideoStream");var x,l,t=null,r=["canrecord","ended"],n={},c={x:0,y:0,type:"Point"},p={x:0,y:0,type:"XYSize"},v={getRealWidth:function(){return h.videoWidth},getRealHeight:function(){return h.videoHeight},getWidth:function(){return x},getHeight:function(){return l},setWidth:function(y){x=y},setHeight:function(y){l=y},setInputStream:function(y){t=y,this.setAttribute("src",y.src!==void 0?y.src:"")},ended:function(){return h.ended},getConfig:function(){return t},setAttribute:function(y,_){h&&h.setAttribute(y,_)},pause:function(){h.pause()},play:function(){h.play()},setCurrentTime:function(y){var _;((_=t)===null||_===void 0?void 0:_.type)!=="LiveStream"&&this.setAttribute("currentTime",y.toString())},addEventListener:function(y,_,R){r.indexOf(y)!==-1?(n[y]||(n[y]=[]),n[y].push(_)):h.addEventListener(y,_,R)},clearEventHandlers:function(){r.forEach((function(y){var _=n[y];_&&_.length>0&&_.forEach((function(R){h.removeEventListener(y,R)}))}))},trigger:function(y,_){var R,H,F,Q,ue,de=n[y];if(y==="canrecord"&&(Q=h.videoWidth,ue=h.videoHeight,x=(H=t)!==null&&H!==void 0&&H.size?Q/ue>1?t.size:Math.floor(Q/ue*t.size):Q,l=(F=t)!==null&&F!==void 0&&F.size?Q/ue>1?Math.floor(ue/Q*t.size):t.size:ue,p.x=x,p.y=l),de&&de.length>0)for(R=0;R<de.length;R++)de[R].apply(v,_)},setTopRight:function(y){c.x=y.x,c.y=y.y},getTopRight:function(){return c},setCanvasSize:function(y){p.x=y.x,p.y=y.y},getCanvasSize:function(){return p},getFrame:function(){return h}};return v},createLiveStream:function(h){console.warn("**** InputStreamBrowser createLiveStream"),h&&h.setAttribute("autoplay","true");var x=jt.createVideoStream(h);return x.ended=function(){return!1},x},createImageStream:function(){var h,x,l=null,t=0,r=0,n=0,c=!0,p=!1,v=null,y=0,_=null,R=!1,H=["canrecord","ended"],F={},Q={x:0,y:0,type:"Point"},ue={x:0,y:0,type:"XYSize"};function de(le,me){var be,Se=F[le];if(Se&&Se.length>0)for(be=0;be<Se.length;be++)Se[be].apply(ve,me)}var ve={trigger:de,getWidth:function(){return h},getHeight:function(){return x},setWidth:function(le){h=le},setHeight:function(le){x=le},getRealWidth:function(){return t},getRealHeight:function(){return r},setInputStream:function(le){var me;l=le,le.sequence===!1?(_=le.src,y=1):(_=le.src,y=le.length),p=!1,dr.load(_,(function(be){var Se,We;if(v=be,be[0].tags&&be[0].tags.orientation)switch(be[0].tags.orientation){case 6:case 8:t=be[0].img.height,r=be[0].img.width;break;default:t=be[0].img.width,r=be[0].img.height}else t=be[0].img.width,r=be[0].img.height;h=(Se=l)!==null&&Se!==void 0&&Se.size?t/r>1?l.size:Math.floor(t/r*l.size):t,x=(We=l)!==null&&We!==void 0&&We.size?t/r>1?Math.floor(r/t*l.size):l.size:r,ue.x=h,ue.y=x,p=!0,n=0,setTimeout((function(){de("canrecord",[])}),0)}),1,y,(me=l)===null||me===void 0?void 0:me.sequence)},ended:function(){return R},setAttribute:function(){},getConfig:function(){return l},pause:function(){c=!0},play:function(){c=!1},setCurrentTime:function(le){n=le},addEventListener:function(le,me){H.indexOf(le)!==-1&&(F[le]||(F[le]=[]),F[le].push(me))},clearEventHandlers:function(){Object.keys(F).forEach((function(le){return delete F[le]}))},setTopRight:function(le){Q.x=le.x,Q.y=le.y},getTopRight:function(){return Q},setCanvasSize:function(le){ue.x=le.x,ue.y=le.y},getCanvasSize:function(){return ue},getFrame:function(){var le,me;return p?(c||(le=(me=v)===null||me===void 0?void 0:me[n],n<y-1?n++:setTimeout((function(){R=!0,de("ended",[])}),0)),le):null}};return ve}},hr=jt,rt=e(23),pr=B()((function h(){K()(this,h),E()(this,"config",void 0),E()(this,"inputStream",void 0),E()(this,"framegrabber",void 0),E()(this,"inputImageWrapper",void 0),E()(this,"stopped",!1),E()(this,"boxSize",void 0),E()(this,"resultCollector",void 0),E()(this,"decoder",void 0),E()(this,"workerPool",[]),E()(this,"onUIThread",!0),E()(this,"canvasContainer",new o)})),It=B()((function h(){K()(this,h),E()(this,"image",void 0),E()(this,"overlay",void 0)})),o=B()((function h(){K()(this,h),E()(this,"ctx",void 0),E()(this,"dom",void 0),this.ctx=new It,this.dom=new It}));function d(h){if(typeof document>"u")return null;if(h instanceof HTMLElement&&h.nodeName&&h.nodeType===1)return h;var x=typeof h=="string"?h:"#interactive.viewport";return document.querySelector(x)}function m(h,x,l){var t=(function(n,c){var p=document.querySelector(n);return p||((p=document.createElement("canvas")).className=c),p})(h,x);console.warn("* initCanvas getCanvasAndContext");var r=t.getContext("2d",{willReadFrequently:l.willReadFrequently});return{canvas:t,context:r}}function k(h){var x,l,t,r,n,c,p=d(h==null||(x=h.config)===null||x===void 0||(l=x.inputStream)===null||l===void 0?void 0:l.target),v=h==null||(t=h.config)===null||t===void 0||(r=t.inputStream)===null||r===void 0?void 0:r.type;if(!v)return null;var y=(function(R,H){var F=H.willReadFrequently;if(typeof document<"u"){var Q=m("canvas.imgBuffer","imgBuffer",{willReadFrequently:F}),ue=m("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:F});return Q.canvas.width=ue.canvas.width=R.x,Q.canvas.height=ue.canvas.height=R.y,{dom:{image:Q.canvas,overlay:ue.canvas},ctx:{image:Q.context,overlay:ue.context}}}return null})(h.inputStream.getCanvasSize(),{willReadFrequently:!(h==null||(n=h.config)===null||n===void 0||(c=n.inputStream)===null||c===void 0||!c.willReadFrequently)});if(!y)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var _=y.dom;return typeof document<"u"&&p&&(v!=="ImageStream"||p.contains(_.image)||p.appendChild(_.image),p.contains(_.overlay)||p.appendChild(_.overlay)),y}function z(h,x){var l=Object.keys(h);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(h);x&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(h,r).enumerable}))),l.push.apply(l,t)}return l}function q(h){for(var x=1;x<arguments.length;x++){var l=arguments[x]!=null?arguments[x]:{};x%2?z(Object(l),!0).forEach((function(t){E()(h,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(l)):z(Object(l)).forEach((function(t){Object.defineProperty(h,t,Object.getOwnPropertyDescriptor(l,t))}))}return h}Ae.a.setMatrixArrayType(Array);var ne=[];function se(h){return q(q({},h),{},{inputStream:q(q({},h.inputStream),{},{target:null})})}function pe(h){if(h){var x=h().default;if(!x)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var l;function t(n){self.postMessage({event:"processed",imageData:l.data,result:n},[l.data.buffer])}function r(){self.postMessage({event:"initialized",imageData:l.data},[l.data.buffer])}self.onmessage=function(n){if(n.data.cmd==="init"){var c=n.data.config;c.numOfWorkers=0,l=new x.ImageWrapper({x:n.data.size.x,y:n.data.size.y},new Uint8Array(n.data.imageData)),x.init(c,r,l),x.onProcessed(t)}else n.data.cmd==="process"?(l.data=new Uint8Array(n.data.imageData),x.start()):n.data.cmd==="setReaders"?x.setReaders(n.data.readers):n.data.cmd==="registerReader"&&x.registerReader(n.data.name,n.data.reader)}}function _e(h,x,l){var t,r,n=(typeof __factorySource__<"u"&&(r=__factorySource__),t=new Blob(["("+pe.toString()+")("+r+");"],{type:"text/javascript"}),window.URL.createObjectURL(t)),c={worker:new Worker(n),imageData:new Uint8Array(x.getWidth()*x.getHeight()),busy:!0};c.worker.onmessage=function(p){p.data.event==="initialized"?(URL.revokeObjectURL(n),c.busy=!1,c.imageData=new Uint8Array(p.data.imageData),l(c)):p.data.event==="processed"?(c.imageData=new Uint8Array(p.data.imageData),c.busy=!1,typeof publishResult<"u"&&publishResult(p.data.result,c.imageData)):p.data.event},c.worker.postMessage({cmd:"init",size:{x:x.getWidth(),y:x.getHeight()},imageData:c.imageData,config:se(h)},[c.imageData.buffer])}function Re(h,x,l,t){var r=h-ne.length;if(r===0&&t)t();else if(r<0)ne.slice(r).forEach((function(p){p.worker.terminate()})),ne=ne.slice(0,r),t&&t();else{var n=function(p){ne.push(p),ne.length>=h&&t&&t()};if(x)for(var c=0;c<r;c++)_e(x,l,n)}}function ke(h,x,l){for(var t=h.length;t--;)h[t][0]+=x,h[t][1]+=l}Ae.a.setMatrixArrayType(Array);var Pe=(function(){function h(){var t=this;K()(this,h),E()(this,"context",new pr),E()(this,"canRecord",(function(r){var n;t.context.config&&(rt.a.checkImageConstraints(t.context.inputStream,(n=t.context.config)===null||n===void 0?void 0:n.locator),t.initCanvas(),t.context.framegrabber=ar.create(t.context.inputStream,t.context.canvasContainer.dom.image),t.context.config.numOfWorkers===void 0&&(t.context.config.numOfWorkers=0),Re(t.context.config.numOfWorkers,t.context.config,t.context.inputStream,(function(){var c;((c=t.context.config)===null||c===void 0?void 0:c.numOfWorkers)===0&&t.initializeData(),t.ready(r)})))})),E()(this,"update",(function(){if(t.context.onUIThread){var r,n=(p=t.context.framegrabber,ne.length?!!(v=ne.filter((function(y){return!y.busy}))[0])&&(p.attachData(v.imageData),p.grab()&&(v.busy=!0,v.worker.postMessage({cmd:"process",imageData:v.imageData},[v.imageData.buffer])),!0):null);n||(t.context.framegrabber.attachData((r=t.context.inputImageWrapper)===null||r===void 0?void 0:r.data),t.context.framegrabber.grab()&&(n||t.locateAndDecode()))}else{var c;t.context.framegrabber.attachData((c=t.context.inputImageWrapper)===null||c===void 0?void 0:c.data),t.context.framegrabber.grab(),t.locateAndDecode()}var p,v}))}var x,l;return B()(h,[{key:"initBuffers",value:function(t){if(this.context.config){var r=(function(p,v,y){var _=v||new b.a({x:p.getWidth(),y:p.getHeight(),type:"XYSize"}),R=[Ae.c.clone([0,0]),Ae.c.clone([0,_.size.y]),Ae.c.clone([_.size.x,_.size.y]),Ae.c.clone([_.size.x,0])];return rt.a.init(_,y),{inputImageWrapper:_,boxSize:R}})(this.context.inputStream,t,this.context.config.locator),n=r.inputImageWrapper,c=r.boxSize;this.context.inputImageWrapper=n,this.context.boxSize=c}}},{key:"initializeData",value:function(t){this.context.config&&(this.initBuffers(t),this.context.decoder=Je.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?d(this.context.config.inputStream.target):null}},{key:"ready",value:function(t){this.context.inputStream.play(),t()}},{key:"initCanvas",value:function(){var t=k(this.context);if(t){var r=t.ctx,n=t.dom;this.context.canvasContainer.dom.image=n.image,this.context.canvasContainer.dom.overlay=n.overlay,this.context.canvasContainer.ctx.image=r.image,this.context.canvasContainer.ctx.overlay=r.overlay}}},{key:"initInputStream",value:function(t){if(this.context.config&&this.context.config.inputStream){var r=this.context.config.inputStream,n=r.type,c=r.constraints,p=(function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",R=arguments.length>1?arguments[1]:void 0,H=arguments.length>2?arguments[2]:void 0;switch(_){case"VideoStream":var F=document.createElement("video");return{video:F,inputStream:H.createVideoStream(F)};case"ImageStream":return{inputStream:H.createImageStream()};case"LiveStream":var Q=null;return R&&((Q=R.querySelector("video"))||(Q=document.createElement("video"),R.appendChild(Q))),{video:Q,inputStream:H.createLiveStream(Q)};default:return console.error("* setupInputStream invalid type ".concat(_)),{video:null,inputStream:null}}})(n,this.getViewPort(),hr),v=p.video,y=p.inputStream;n==="LiveStream"&&v&&Ge.request(v,c).then((function(){return y.trigger("canrecord")})).catch((function(_){return t(_)})),y&&(y.setAttribute("preload","auto"),y.setInputStream(this.context.config.inputStream),y.addEventListener("canrecord",this.canRecord.bind(void 0,t))),this.context.inputStream=y}}},{key:"getBoundingBoxes",value:function(){var t;return(t=this.context.config)!==null&&t!==void 0&&t.locate?rt.a.locate():[[Ae.c.clone(this.context.boxSize[0]),Ae.c.clone(this.context.boxSize[1]),Ae.c.clone(this.context.boxSize[2]),Ae.c.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(t){var r=this,n=this.context.inputStream.getTopRight(),c=n.x,p=n.y;if((c!==0||p!==0)&&(t.barcodes&&t.barcodes.forEach((function(y){return r.transformResult(y)})),t.line&&t.line.length===2&&(function(y,_,R){y[0].x+=_,y[0].y+=R,y[1].x+=_,y[1].y+=R})(t.line,c,p),t.box&&ke(t.box,c,p),t.boxes&&t.boxes.length>0))for(var v=0;v<t.boxes.length;v++)ke(t.boxes[v],c,p)}},{key:"addResult",value:function(t,r){var n=this;r&&this.context.resultCollector&&(t.barcodes?t.barcodes.filter((function(c){return c.codeResult})).forEach((function(c){return n.addResult(c,r)})):t.codeResult&&this.context.resultCollector.addResult(r,this.context.inputStream.getCanvasSize(),t.codeResult))}},{key:"hasCodeResult",value:function(t){return!(!t||!(t.barcodes?t.barcodes.some((function(r){return r.codeResult})):t.codeResult))}},{key:"publishResult",value:function(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,c=r;r&&this.context.onUIThread&&(this.transformResult(r),this.addResult(r,n),c=(r==null||(t=r.barcodes)===null||t===void 0?void 0:t.length)>0?r.barcodes:r),De.publish("processed",c),this.hasCodeResult(r)&&De.publish("detected",c)}},{key:"locateAndDecode",value:(l=C()(D.a.mark((function t(){var r,n,c,p,v;return D.a.wrap((function(y){for(;;)switch(y.prev=y.next){case 0:if(!(r=this.getBoundingBoxes())){y.next=12;break}return y.next=4,this.context.decoder.decodeFromBoundingBoxes(r);case 4:if(y.t0=y.sent,y.t0){y.next=7;break}y.t0={};case 7:(c=y.t0).boxes=r,this.publishResult(c,(n=this.context.inputImageWrapper)===null||n===void 0?void 0:n.data),y.next=16;break;case 12:return y.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(p=y.sent)?this.publishResult(p,(v=this.context.inputImageWrapper)===null||v===void 0?void 0:v.data):this.publishResult();case 16:case"end":return y.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var t,r=this,n=null,c=1e3/(((t=this.context.config)===null||t===void 0?void 0:t.frequency)||60);this.context.stopped=!1;var p=this.context;(function v(y){n=n||y,p.stopped||(y>=n&&(n+=c,r.update()),window.requestAnimationFrame(v))})(performance.now())}},{key:"start",value:function(){var t,r;this.context.onUIThread&&((t=this.context.config)===null||t===void 0||(r=t.inputStream)===null||r===void 0?void 0:r.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(x=C()(D.a.mark((function t(){var r;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.context.stopped=!0,Re(0),(r=this.context.config)===null||r===void 0||!r.inputStream||this.context.config.inputStream.type!=="LiveStream"){n.next=6;break}return n.next=5,Ge.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return n.stop()}}),t,this)}))),function(){return x.apply(this,arguments)})},{key:"setReaders",value:function(t){this.context.decoder&&this.context.decoder.setReaders(t),(function(r){ne.forEach((function(n){return n.worker.postMessage({cmd:"setReaders",readers:r})}))})(t)}},{key:"registerReader",value:function(t,r){Je.registerReader(t,r),this.context.decoder&&this.context.decoder.registerReader(t,r),(function(n,c){ne.forEach((function(p){return p.worker.postMessage({cmd:"registerReader",name:n,reader:c})}))})(t,r)}}]),h})(),Ie=new Pe,Xe=Ie.context,nt={init:function(h,x,l){var t,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ie;return x||(t=new Promise((function(n,c){x=function(p){p?c(p):n()}}))),r.context.config=g()({},nr,h),r.context.config.numOfWorkers>0&&(r.context.config.numOfWorkers=0),l?(r.context.onUIThread=!1,r.initializeData(l),x&&x()):r.initInputStream(x),t},start:function(){return Ie.start()},stop:function(){return Ie.stop()},pause:function(){Xe.stopped=!0},onDetected:function(h){h&&(typeof h=="function"||s()(h)==="object"&&h.callback)?De.subscribe("detected",h):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(h){De.unsubscribe("detected",h)},onProcessed:function(h){h&&(typeof h=="function"||s()(h)==="object"&&h.callback)?De.subscribe("processed",h):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(h){De.unsubscribe("processed",h)},setReaders:function(h){h?Ie.setReaders(h):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(h,x){h?x?Ie.registerReader(h,x):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(h){h&&typeof h.addResult=="function"&&(Xe.resultCollector=h)},get canvas(){return Xe.canvasContainer},decodeSingle:function(h,x){var l=this,t=new Pe;return(h=g()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:h.src},numOfWorkers:1,locator:{halfSample:!1}},h)).numOfWorkers>0&&(h.numOfWorkers=0),h.numOfWorkers>0&&(typeof Blob>"u"||typeof Worker>"u")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),h.numOfWorkers=0),new Promise((function(r,n){try{l.init(h,(function(){De.once("processed",(function(c){t.stop(),x&&x.call(null,c),r(c)}),!0),t.start()}),null,t)}catch(c){n(c)}}))},get default(){return nt},Readers:a,CameraAccess:Ge,ImageDebug:G.a,ImageWrapper:b.a,ResultCollector:kt};w.default=nt}]).default}))})(vr)),vr.exports}var _r=xr();const Le=mr(_r),br="";(function(){const Oe=globalThis.console;let i=0,w=0;const e=new Map,a=new Map;function u(S){return a.has(S)?`${S}: ${performance.now()-a.get(S)} ms`:`Timer ${S} doesn't exist`}function s(S){return JSON.stringify(S)}function f(S){return JSON.stringify(S,null,2)}function g(S){const D=S.length>1?S.map(s).join(" "):S[0];return typeof D=="object"?`${f(D)}`:D.toString()}function b(S,D){const G=D?`&m=${encodeURI(D)}`:"";fetch(`${br}/__terminal/${S}?t=${Date.now()}&c=${i++}&g=${w}${G}`,{mode:"no-cors"})}const M={log(...S){b("log",g(S))},info(...S){b("info",g(S))},debug(...S){b("debug",g(S))},warn(...S){b("warn",g(S))},error(...S){b("error",g(S))},assert(S,...D){S||b("assert",`Assertion failed: ${g(D)}`)},table(S){b("table",f(S))},group(){w++},groupCollapsed(){w++},groupEnd(){w&&--w},time(S){a.set(S,performance.now())},timeLog(S,...D){b("log",`${u(S)} ${g(D)}`)},timeEnd(S){b("log",u(S)),a.delete(S)},count(S){const D=S||"default",G=(e.get(D)||0)+1;e.set(D,G),b("log",`${D}: ${G}`)},countReset(S){const D=S||"default";e.set(D,0),b("log",`${D}: 0`)},clear(){b("clear")},dir(S){b("log",f(S))},dirxml(S){b("log",f(S))},trace(...S){Oe.trace(...S)},profile(...S){Oe.profile(...S)},profileEnd(...S){Oe.profileEnd(...S)}};function C(S){const D=["trace","profile","profileEnd"],G={};return Object.keys(S).forEach(Z=>{G[Z]=D.includes(Z)?Oe[Z]:(...K)=>{Oe[Z](...K),S[Z](...K)}}),G}return C(M)})();Le.init({inputStream:{type:"LiveStream",target:document.querySelector("#camera-stream"),constraints:{facingMode:"environment"},singleChannel:!1},locate:!0,locator:{halfSample:!0,patchSize:"medium"},debug:!0,decoder:{readers:["upc_reader","code_128_reader"],multiple:!0},frequency:10},async function(Me){Me||(Le.start(),Le.onProcessed(function(Oe){let i=Le.canvas.ctx.overlay,w=Le.canvas.dom.overlay;if(i.clearRect(0,0,parseInt(w.getAttribute("width")),parseInt(w.getAttribute("height"))),Oe)for(let e of Oe)e.boxes&&e.boxes.filter(a=>a!==e.box).forEach(a=>{Le.ImageDebug.drawPath(a,{x:0,y:1},i,{color:"green",lineWidth:2})}),e.box&&Le.ImageDebug.drawPath(e.box,{x:0,y:1},i,{color:"blue",lineWidth:2})}),Le.onDetected(function(Oe){for(let i of Oe){let w=i.codeResult.code,e=i.codeResult.format;Or(w,e)&&alert(`Detected ${w}, Format: ${e}`)}}))});let zt={};const wr=5;function Or(Me,Oe){if(Object.keys(zt).includes(Me)){let i=zt[Me];if(i.format===Oe)return i.detections++,i.detections>=wr?(zt={},!0):!1}return zt[Me]={format:Oe,detections:1},!1}
